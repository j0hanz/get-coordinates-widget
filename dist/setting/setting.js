System.register(["jimu-core","jimu-ui/advanced/setting-components","jimu-ui/basic/color-picker","jimu-ui","jimu-theme"],(function(e,t){var a={},s={},i={},n={},r={};return{setters:[function(e){a.React=e.React,a.classNames=e.classNames,a.css=e.css,a.hooks=e.hooks,a.jsx=e.jsx,a.polished=e.polished},function(e){s.MapWidgetSelector=e.MapWidgetSelector,s.SettingRow=e.SettingRow,s.SettingSection=e.SettingSection},function(e){i.ColorPicker=e.ColorPicker},function(e){n.AdvancedButtonGroup=e.AdvancedButtonGroup,n.Button=e.Button,n.Icon=e.Icon,n.MultiSelect=e.MultiSelect,n.MultiSelectItem=e.MultiSelectItem,n.NumericInput=e.NumericInput,n.SVG=e.SVG,n.Switch=e.Switch,n.defaultMessages=e.defaultMessages},function(e){r.useTheme=e.useTheme}],execute:function(){e((()=>{var e={1888:e=>{"use strict";e.exports=r},4321:e=>{"use strict";e.exports=n},4337:e=>{"use strict";e.exports=i},5908:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA4IiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgMTA4IDcyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHJlY3QgeD0iOCIgeT0iMjYiIHdpZHRoPSI5MiIgaGVpZ2h0PSIyMCIgZmlsbD0iI2ZmZmZmZiIvPg0KPHJlY3QgeD0iMTIiIHk9IjMwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSI2IiBmaWxsPSIjMTMxMzEzIi8+DQo8cmVjdCB4PSIzMyIgeT0iMzMiIHdpZHRoPSI0MiIgaGVpZ2h0PSI2IiBmaWxsPSIjMTMxMzEzIi8+DQo8cmVjdCB4PSI4NCIgeT0iMzAiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgcng9IjYiIGZpbGw9IiMxMzEzMTMiLz4NCjwvc3ZnPg0K"},6426:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],s=0;s<e.rangeCount;s++)a.push(e.getRangeAt(s));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},7965:(e,t,a)=>{"use strict";var s=a(6426),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var a,n,r,o,l,c,d=!1;t||(t={}),a=t.debug||!1;try{if(r=s(),o=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(s){if(s.stopPropagation(),t.format)if(s.preventDefault(),void 0===s.clipboardData){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var n=i[t.format]||i.default;window.clipboardData.setData(n,e)}else s.clipboardData.clearData(),s.clipboardData.setData(t.format,e);t.onCopy&&(s.preventDefault(),t.onCopy(s.clipboardData))})),document.body.appendChild(c),o.selectNodeContents(c),l.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(s){a&&console.error("unable to copy using execCommand: ",s),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(s){a&&console.error("unable to copy using clipboardData: ",s),a&&console.error("falling back to prompt"),n=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(o):l.removeAllRanges()),c&&document.body.removeChild(c),r()}return d}},9244:e=>{"use strict";e.exports=a},9298:e=>{"use strict";e.exports=s},9555:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA4IiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgMTA4IDcyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHJlY3QgeD0iOCIgeT0iMjYiIHdpZHRoPSI5MiIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgwLDAsMCwwKSIvPg0KPHJlY3QgeD0iMTIiIHk9IjMwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSI2IiBmaWxsPSIjZmZmZmZmIi8+DQo8cmVjdCB4PSIzMyIgeT0iMzMiIHdpZHRoPSI0MiIgaGVpZ2h0PSI2IiBmaWxsPSIjZmZmZmZmIi8+DQo8cmVjdCB4PSI4NCIgeT0iMzAiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgcng9IjYiIGZpbGw9IiNmZmZmZmYiLz4NCjwvc3ZnPg0K"}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,o),i.exports}o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var l={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(l),o.d(l,{__set_webpack_public_path__:()=>ue,default:()=>de});var e=o(9244),t=o(9298),a=o(4337),s=o(4321),i=o(1888);o(7965);const n=(e,t)=>"boolean"==typeof e?e:!!Array.isArray(t)&&t.length>0,r=(e,t)=>"boolean"==typeof t?t:!!e?.target?.checked,c=e=>{if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e&&""!==e.trim()){const t=Number(e);if(Number.isFinite(t))return t}return null},d=(e,t)=>{if("number"==typeof e&&Number.isFinite(e))return Math.floor(e);if("string"==typeof e){const t=parseInt(e,10);if(Number.isFinite(t))return t}if(t?.target?.value){const e=parseInt(t.target.value,10);if(Number.isFinite(e))return e}return null},u=(e,t,a)=>Math.min(a,Math.max(t,e));var g;!function(e){e.Default="default",e.Linear="linear"}(g||(g={}));new Set(["sweref99","rt90","wgs84","etrs89","itrf"]);const p=Object.freeze({min:0,max:6}),m=g.Default,y=(new Set(["latitude","longitude"]),Object.freeze([{id:"sweref_99_tm",wkid:3006,label:"SWEREF 99 TM (EPSG:3006)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_12_00",wkid:3007,label:"SWEREF 99 12 00 (EPSG:3007)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_13_30",wkid:3008,label:"SWEREF 99 13 30 (EPSG:3008)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_15_00",wkid:3009,label:"SWEREF 99 15 00 (EPSG:3009)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_16_30",wkid:3010,label:"SWEREF 99 16 30 (EPSG:3010)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_18_00",wkid:3011,label:"SWEREF 99 18 00 (EPSG:3011)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_14_15",wkid:3012,label:"SWEREF 99 14 15 (EPSG:3012)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_15_45",wkid:3013,label:"SWEREF 99 15 45 (EPSG:3013)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_17_15",wkid:3014,label:"SWEREF 99 17 15 (EPSG:3014)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_18_45",wkid:3015,label:"SWEREF 99 18 45 (EPSG:3015)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_20_15",wkid:3016,label:"SWEREF 99 20 15 (EPSG:3016)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_21_45",wkid:3017,label:"SWEREF 99 21 45 (EPSG:3017)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"},{id:"sweref_99_23_15",wkid:3018,label:"SWEREF 99 23 15 (EPSG:3018)",system:"sweref99",axisMessageKeys:["northing","easting"],valueOrder:"yx"}])),f=Object.freeze([{id:"rt90_7_5_gon_v",wkid:3020,label:"RT 90 7,5 gon V (EPSG:3020)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_5_gon_v",wkid:3021,label:"RT 90 5 gon V (EPSG:3021)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_2_5_gon_v",wkid:3022,label:"RT 90 2,5 gon V (EPSG:3022)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_0_gon",wkid:3023,label:"RT 90 0 gon (EPSG:3023)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_2_5_gon_o",wkid:3024,label:"RT 90 2,5 gon O (EPSG:3024)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_5_gon_o",wkid:3025,label:"RT 90 5 gon O (EPSG:3025)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"}]),b=Object.freeze([{id:"wgs84",wkid:4326,label:"WGS 84 lat/long (EPSG:4326)",system:"wgs84",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),w=Object.freeze([{id:"sweref_99_geodetic",wkid:4619,label:"SWEREF 99 lat/long (EPSG:4619)",system:"sweref99",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),x=Object.freeze([{id:"wgs84_web_mercator",wkid:3857,label:"WGS 84 Web Mercator (EPSG:3857)",system:"wgs84",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"wgs84_utm33n",wkid:32633,label:"WGS 84 / UTM zone 33N (EPSG:32633)",system:"wgs84",axisMessageKeys:["easting","northing"],valueOrder:"xy"}]),h=Object.freeze([{id:"etrs89",wkid:4258,label:"ETRS89 lat/long (EPSG:4258)",system:"etrs89",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),S=Object.freeze([{id:"itrf2014",wkid:7912,label:"ITRF2014 lat/long (EPSG:7912)",system:"itrf",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),v=3006,I=Object.freeze([...y,...w]),k=Object.freeze([...b,...x]),M=Object.freeze(I.map((e=>e.wkid))),E=(new Set(M),Object.freeze([...M])),C=Object.freeze({sweref99:{messageKey:"systemLabelSweref99",defaultLabel:"SWEREF 99"},rt90:{messageKey:"systemLabelRt90",defaultLabel:"RT 90"},wgs84:{messageKey:"systemLabelWgs84",defaultLabel:"WGS 84"},etrs89:{messageKey:"systemLabelEtrs89",defaultLabel:"ETRS89"},itrf:{messageKey:"systemLabelItrf",defaultLabel:"ITRF2014"}}),j=Object.freeze([{id:"sweref99",label:C.sweref99.defaultLabel,labelMessageKey:C.sweref99.messageKey,defaultWkid:v,options:I},{id:"rt90",label:C.rt90.defaultLabel,labelMessageKey:C.rt90.messageKey,defaultWkid:3022,options:f},{id:"wgs84",label:C.wgs84.defaultLabel,labelMessageKey:C.wgs84.messageKey,defaultWkid:4326,options:k},{id:"etrs89",label:C.etrs89.defaultLabel,labelMessageKey:C.etrs89.messageKey,defaultWkid:4258,options:h},{id:"itrf",label:C.itrf.defaultLabel,labelMessageKey:C.itrf.messageKey,defaultWkid:7912,options:S}]),P=j.flatMap((e=>Array.from(e.options))),R=new Map(P.map((e=>[e.wkid,e]))),W=(new Map(P.map(((e,t)=>[e.wkid,t]))),new Map(j.map((e=>[e.id,e])))),O=(Object.freeze({sweref99:v,rt90:3022,wgs84:4326,etrs89:4258,itrf:7912}),/^#([0-9a-f]{6}|[0-9a-f]{8})$/i),_="#000000",K=Object.freeze([{id:"classicPin",labelMessageKey:"pinIconClassicPin",viewBox:"0 0 32 32",svgBody:'<path fill="{{color}}" d="M16 3.5A7.5 7.5 0 0 0 8.5 11c0 4.143 7.5 18.12 7.5 18.12S23.5 15.144 23.5 11A7.5 7.5 0 0 0 16 3.5zm0 11.084a3.583 3.583 0 1 1 0-7.168a3.583 3.583 0 1 1 0 7.168z"/>',mapSymbol:{width:22,height:22,yOffset:10}},{id:"targetCircle",labelMessageKey:"pinIconTargetCircle",viewBox:"0 0 2048 2048",svgBody:'<path fill="{{color}}" d="M1024 128q123 0 237 32t214 90t182 141t140 181t91 214t32 238q0 123-32 237t-90 214t-141 182t-181 140t-214 91t-238 32q-123 0-237-32t-214-90t-182-141t-140-181t-91-214t-32-238q0-123 32-237t90-214t141-182t181-140t214-91t238-32zm0 1664q106 0 204-27t183-78t156-120t120-155t77-184t28-204q0-106-27-204t-78-183t-120-156t-155-120t-184-77t-204-28q-106 0-204 27t-183 78t-156 120t-120 155t-77 184t-28 204q0 106 27 204t78 183t120 156t155 120t184 77t204 28zm0-1152q79 0 149 30t122 83t82 122t31 149q0 79-30 149t-83 122t-122 82t-149 31q-79 0-149-30t-122-83t-82-122t-31-149q0-79 30-149t83-122t122-82t149-31z"/>',mapSymbol:{width:22,height:22,yOffset:0}},{id:"dropMarker",labelMessageKey:"pinIconDropMarker",viewBox:"-7 -1.5 24 24",svgBody:'<path fill="{{color}}" d="M4 10.465a5.002 5.002 0 0 1 1-9.9a5 5 0 0 1 1 9.9v9.1a1 1 0 0 1-2 0v-9.1z"/>',mapSymbol:{width:22,height:22,yOffset:10}},{id:"beaconPin",labelMessageKey:"pinIconBeaconPin",viewBox:"0 0 1024 1024",svgBody:'<path fill="{{color}}" d="M480 512h64v320h-64z"/><path fill="{{color}}" d="M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64zm64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128zm256-256a192 192 0 1 0 0-384a192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512z"/>',mapSymbol:{width:22,height:22,yOffset:6}},{id:"ringPin",labelMessageKey:"pinIconRingPin",viewBox:"0 0 24 24",svgBody:'<g fill="none" stroke="{{color}}" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M2 12h3m14 0h3M12 2v3m0 14v3"/><circle cx="12" cy="12" r="7"/><circle cx="12" cy="12" r="3"/></g>',mapSymbol:{width:22,height:22,yOffset:0}}]),B=new Map(K.map((e=>[e.id,e]))),D=K[0].id,T=Object.freeze([{key:"json",extension:"json",mime:"application/json",messageKey:"exportJson"},{key:"xml",extension:"xml",mime:"application/xml",messageKey:"exportXml"},{key:"yaml",extension:"yaml",mime:"application/x-yaml",messageKey:"exportYaml"}]),G=(new Map(T.map((e=>[e.key,e]))),e=>{const t=c(e);return null===t?null:t}),z=(e,t)=>{if("boolean"==typeof e)return e;if("string"==typeof e){const t=e.trim().toLowerCase();if("true"===t)return!0;if("false"===t)return!1}if("number"==typeof e){if(1===e)return!0;if(0===e)return!1}return t},A=e=>{const t=e.trim();if(!t)return null;const a=t.startsWith("#")?t:`#${t}`;return O.test(a)?a.toUpperCase():null},F={precision:(e,t,a)=>{const s="number"==typeof a?.min?a.min:p.min,i="number"==typeof a?.max?a.max:p.max,n=G(e);if(null===n){const e=G(t),a=null===e?p.min:e;return u(Math.round(a),s,i)}return u(Math.round(n),s,i)},hexColor:(e,t)=>{if("string"==typeof e){const t=A(e);if(t)return t}return A(t)??_},pinIconId:(e,t)=>"string"==typeof e&&B.has(e)?e:t&&B.has(t)?t:D,wkid:(e,t)=>{const a=G(e);if(null===a)return t;const s=R.get(a);return s?s.wkid:t}},V={restrictEnabledWkids:(e,t,a)=>{const s=L(t),i=new Set(s.map((e=>e.wkid))),n=new Set;if(Array.isArray(e))for(const t of e){const e=c(t);null!=e&&n.add(e)}const r=[];for(const e of s)n.has(e.wkid)&&i.has(e.wkid)&&r.push(e.wkid);return 0!==r.length||a?.allowEmpty?r:s.map((e=>e.wkid))}},L=e=>e?P.map((e=>({...e}))):I.map((e=>({...e}))),Z=(e,t)=>Array.isArray(t)&&t.includes(e)?e:Array.isArray(t)&&t.length>0?t[0]:v,N=(e,t)=>{const a=t.replace(/\s+/g," ").trim();if(!a)return null;const s=a.split(/\s+/).map((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))).join("\\s+"),i=new RegExp(`^${s}(?:\\s*[-\u2013\u2014]\\s*|\\s+)`,"i"),n=e.match(i);return n?e.slice(n[0].length).trim():null},H=(e,t)=>{const a=W.get(e.system),s=a?t(a.labelMessageKey):null,i=s&&s!==a?.label?s:a?.label??e.system.toUpperCase(),n=e.label.trim();if(!n)return i;const r=[s||"",a?.label||"",(s||"").replace(/\s+/g,""),(a?.label||"").replace(/\s+/g,"")].filter(Boolean);let o=n;for(const e of r){const t=N(n,e);if(t){o=t;break}}return o.toLowerCase().startsWith(i.toLowerCase())?o:`${i} \u2013 ${o}`},$=Object.freeze({swerefWkid:v,precision:p.min,showExportButton:!1,copyOnClick:!1,enablePin:!0,includeExtendedSystems:!1,enabledWkids:Array.from(E),pinFillColor:_,pinIconId:D,styleVariant:m}),q=(e,t)=>{const a=(e=>{if(Array.isArray(e))return e;if(e&&"object"==typeof e){const t=e;if("function"==typeof t.toArray)try{return t.toArray()}catch(e){return[]}if("function"==typeof t.toJS)try{const e=t.toJS();return Array.isArray(e)?e:[]}catch(e){return[]}}return[]})(e);return V.restrictEnabledWkids(a,t,{allowEmpty:!1})},Q=(e,t)=>((e,t)=>{if(!e||"object"!=typeof e)return;if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const a=e;if("function"==typeof a.get)try{return a.get(t)}catch(e){return}})(e,t),U=(e,t)=>{const a=e.svgBody.replace(/{{color}}/g,t),s=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${e.viewBox}" role="img" aria-hidden="true">${a}</svg>`,i="undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa:"function"==typeof btoa?btoa:null;if(!i)return null;try{return`data:image/svg+xml;base64,${i(s)}`}catch{return null}},J={settingsTitle:"Get Coordinates \u2013 Widget Settings",mapSection:"Map View",noView:"No map view selected",noFormats:"No coordinate formats selected",availableOutputs:"Available coordinate formats",includeExtendedSystems:"Show extended coordinate systems",precision:"Number of decimals",precisionHelper:"Specify number of decimals. 0\u20133 for meter precision, 4\u20136 for centimeter level. Geodetic formats use at least 5 decimals",showExportButton:"Show 'Export' button",enablePin:"Enable map marker",copyOnClick:"Copy coordinates on map click",pinColor:"Map marker color",pinIcon:"Map marker symbol",systemLabelSweref99:"SWEREF 99",systemLabelRt90:"RT 90",systemLabelWgs84:"WGS 84",systemLabelEtrs89:"ETRS 89",systemLabelItrf:"ITRF 2014",pinIconClassicPin:"Classic pin",pinIconTargetCircle:"Target circle",pinIconDropMarker:"Drop marker",pinIconBeaconPin:"Beacon pin",pinIconRingPin:"Ring marker",settingStyleVariant:"Style variant",styleVariantDefault:"Default",styleVariantLinear:"Linear"},Y=e.css`
  .active {
    .style-img {
      border: 2px solid var(--sys-color-primary-light);
    }
  }
  .style-img {
    border: 2px solid transparent;
    height: ${e.polished.rem(36)} !important;
    margin: 0;
  }
  .arrangement {
    margin: 0;
    height: auto;
    background: #181818;
  }
  .arrangement-mt {
    margin-top: ${e.polished.rem(12)};
  }
  & button {
    width: ${e.polished.rem(108)};
    height: ${e.polished.rem(80)};
    padding: 0;
  }
`,X=a=>{const i=e.hooks.useTranslation(J),{config:n,id:r,onSettingChange:l,currentVariant:c}=a,d=e.hooks.useEventCallback((e=>{l({id:r,config:n.set("styleVariant",e)})}));return(0,e.jsx)(t.SettingSection,{title:i("settingStyleVariant"),css:Y},(0,e.jsx)(t.SettingRow,null,(0,e.jsx)("div",{"aria-label":i("settingStyleVariant"),role:"radiogroup"},(0,e.jsx)(s.Button,{type:"tertiary",role:"radio",className:(0,e.classNames)("w-100 arrangement",{active:c===g.Default}),onClick:()=>d(g.Default),title:i("styleVariantDefault"),"aria-label":i("styleVariantDefault"),"aria-checked":c===g.Default},(0,e.jsx)(s.Icon,{className:"style-img w-100 h-100",icon:o(5908)})),(0,e.jsx)(s.Button,{type:"tertiary",role:"radio",className:(0,e.classNames)("w-100 arrangement arrangement-mt",{active:c===g.Linear}),onClick:()=>d(g.Linear),title:i("styleVariantLinear"),"aria-label":i("styleVariantLinear"),"aria-checked":c===g.Linear},(0,e.jsx)(s.Icon,{className:"style-img w-100 h-100",icon:o(9555)})))))},{restrictEnabledWkids:ee}=V,{precision:te,hexColor:ae,pinIconId:se}=F;function ie(){const t=e.React.useRef(null);let a=t.current;return a||(a={fullWidth:(0,e.css)({display:"flex",width:"100%",flexDirection:"column",minWidth:0}),helperStyle:(0,e.css)({marginTop:4,opacity:.7}),iconGroupStyle:(0,e.css)({display:"flex",width:"100%",flexWrap:"nowrap",gap:8,justifyContent:"space-between","& > button":{flex:"0 0 44px",height:42,padding:0,display:"flex",alignItems:"center",justifyContent:"center"}}),iconSvgStyle:(0,e.css)({width:28,height:28,pointerEvents:"none"}),inlineMessageStyle:(0,e.css)({marginTop:8,opacity:.75})},t.current=a),a}const ne=(e,t)=>{"undefined"!=typeof console&&"function"==typeof console.debug&&console.debug(`[get-coordinates:settings:${e}]`,t)},re=e=>e.map(String).sort().join("|"),oe=(e,t,a)=>{const s=Z(e,t),i={enabledWkids:t};return s!==e?(a(s),{...i,swerefWkid:s}):i},le=({value:t,defaultValue:s,onChange:i,"aria-label":n,styles:r})=>(0,e.jsx)(a.ColorPicker,{color:t||s||"#000000",onChange:e=>{i?.(e)},"aria-label":n,css:r.fullWidth}),ce=({definition:t,color:a,styles:i})=>{const n=ae(a,_),r=U(t,n)??`data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${t.viewBox}">${t.svgBody.replace(/{{color}}/g,n)}</svg>`)}`;return(0,e.jsx)(s.SVG,{src:r,role:"img","aria-hidden":"true",focusable:"false",css:i.iconSvgStyle,currentColor:!1})},de=a=>{(0,i.useTheme)();const o=ie(),l=e.hooks.useTranslation(s.defaultMessages,J),c=(e=>{const t={swerefWkid:$.swerefWkid,precision:$.precision,showExportButton:$.showExportButton,copyOnClick:$.copyOnClick,enablePin:$.enablePin,includeExtendedSystems:$.includeExtendedSystems,enabledWkids:Array.from($.enabledWkids),pinFillColor:$.pinFillColor,pinIconId:$.pinIconId,styleVariant:$.styleVariant??m},a=z(Q(e,"includeExtendedSystems"),t.includeExtendedSystems),s=q(Q(e,"enabledWkids"),a),i=Z(F.wkid(Q(e,"swerefWkid"),v),s),n=F.precision(Q(e,"precision"),t.precision),r=z(Q(e,"showExportButton"),t.showExportButton),o=z(Q(e,"copyOnClick"),t.copyOnClick),l=z(Q(e,"enablePin"),t.enablePin),c=F.hexColor(Q(e,"pinFillColor"),t.pinFillColor),d=F.pinIconId(Q(e,"pinIconId")),u=Q(e,"styleVariant");return{swerefWkid:i,precision:n,showExportButton:r,copyOnClick:o,enablePin:l,includeExtendedSystems:a,enabledWkids:s,pinFillColor:c,pinIconId:d,styleVariant:u===g.Linear||u===g.Default?u:t.styleVariant??m}})(a.config),u=e.hooks.useLatest(c.precision),y=ee(c.enabledWkids,c.includeExtendedSystems,{allowEmpty:!0}),[f,b]=e.React.useState((()=>c.includeExtendedSystems)),[w,x]=e.React.useState((()=>[...y])),[h,S]=e.React.useState((()=>Z(c.swerefWkid,y))),[I,k]=e.React.useState((()=>c.precision)),[M,E]=e.React.useState((()=>!!c.showExportButton)),[C,j]=e.React.useState((()=>!!c.copyOnClick)),[P,R]=e.React.useState((()=>!!c.enablePin)),[W,O]=e.React.useState((()=>c.pinFillColor||_)),[B,T]=e.React.useState((()=>c.pinIconId||D)),[G,A]=e.React.useState((()=>c.styleVariant??m)),V=K,N=e.hooks.useLatest(B),U=e.React.useRef(y.map(String).sort().join("|")),Y=L(f).map((e=>({value:e.wkid.toString(),label:H(e,l)}))),de=(ue={hasMap:!!a.useMapWidgetIds?.length,enabledWkids:w},n(ue.hasMap,ue.mapWidgetIds)?n(ue.hasFormats,ue.enabledWkids)?{hasMap:!0,hasFormats:!0,status:"ready",messageKey:null}:{hasMap:!0,hasFormats:!1,status:"no-formats",messageKey:"noFormats"}:{hasMap:!1,hasFormats:!1,status:"no-map",messageKey:"noView"});var ue;const ge=de.hasMap,pe=de.hasFormats,me="no-map"===de.status&&de.messageKey?l(de.messageKey):null,ye="no-formats"===de.status&&de.messageKey?l(de.messageKey):null;e.hooks.useUpdateEffect((()=>{const e=c.includeExtendedSystems,t=ee(c.enabledWkids,e,{allowEmpty:!0});U.current=t.map(String).sort().join("|"),b(e),x(t),S(Z(c.swerefWkid,t)),k(c.precision),E(!!c.showExportButton),j(!!c.copyOnClick),R(!!c.enablePin),O(c.pinFillColor||_),T(c.pinIconId||D),A(c.styleVariant??m)}),[c]);const fe=e.hooks.useEventCallback((e=>{let t=a.config;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=e[a];void 0!==s&&(t=t.set(a,s))}a.onSettingChange({id:a.id,config:t})})),be=e.hooks.useEventCallback((e=>{a.onSettingChange({id:a.id,useMapWidgetIds:e})})),we=e.hooks.useEventCallback((e=>{const t=e.config?.styleVariant;t&&A(t),a.onSettingChange(e)})),xe=e.hooks.useEventCallback(((e,t,a)=>{const s=(e=>{return e?Array.isArray(e)?[...e]:"object"==typeof(t=e)&&null!==t&&"function"==typeof t.toArray?e.toArray():[]:[];var t})(e),i=re(s);if(i===U.current)return;U.current=i;const n=ee(s,f,{allowEmpty:!0});x(n),ne("availableOutputsChange",{source:t,includeExtended:f,rawValue:a,enabledWkids:n});const r=oe(h,n,S);fe(r)})),he=e.hooks.useEventCallback(((e,t)=>{const a=r(e,t);if(b(a),a)fe({includeExtendedSystems:a,enabledWkids:w});else{const e=ee(w,!1,{allowEmpty:!0});U.current=re(e.map(String)),x(e);const t={includeExtendedSystems:a,...oe(h,e,S)};fe(t)}})),Se=e.hooks.useEventCallback(((e,t)=>{xe(t,"change",e)})),ve=e.hooks.useEventCallback(((e,t,a)=>{xe(a,"click",t)})),Ie=e.hooks.useEventCallback((e=>{const t=Number.isFinite(I)?I:u.current,a=te(e,t);k(a),fe({precision:a})})),ke=e.hooks.useEventCallback(((e,t)=>{const a=d(e,t);null!=a&&Ie(a)})),Me=e.hooks.useEventCallback((()=>{const e=Number.isFinite(I)?I:p.min;Ie(e)})),Ee=e.hooks.useEventCallback(((e,t)=>(a,s)=>{const i=r(a,s);e(i),fe({[t]:i})})),Ce=e.hooks.useEventCallback((e=>{const t=ae(e,_);O(t),fe({pinFillColor:t})})),je=e.hooks.useEventCallback((e=>{const t=se(e,D);t!==N.current&&(T(t),fe({pinIconId:t}),ne("pinIconChange",{pinIconId:t}))}));return(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(t.SettingSection,{title:l("mapSection")},(0,e.jsx)(t.SettingRow,{level:1,label:"",flow:"wrap"},(0,e.jsx)(t.MapWidgetSelector,{onSelect:be,useMapWidgetIds:a.useMapWidgetIds})),!ge&&me&&(0,e.jsx)(t.SettingRow,{level:1,label:"",flow:"wrap"},(0,e.jsx)("div",{css:o.inlineMessageStyle,role:"status","aria-live":"polite"},me))),ge&&(0,e.jsx)(t.SettingSection,null,(0,e.jsx)(t.SettingRow,{level:1,label:l("includeExtendedSystems"),tag:"label",flow:"no-wrap"},(0,e.jsx)(s.Switch,{checked:!!f,onChange:he})),(0,e.jsx)(t.SettingRow,{level:1,label:l("availableOutputs"),tag:"label",flow:"wrap"},(0,e.jsx)(s.MultiSelect,{values:w.map(String),onChange:Se,onClickItem:ve,placeholder:l("availableOutputs"),items:Y,css:o.fullWidth},Y.map((t=>(0,e.jsx)(s.MultiSelectItem,{key:t.value,value:t.value,label:t.label}))))),!pe&&ye&&(0,e.jsx)(t.SettingRow,{level:1,label:"",flow:"wrap"},(0,e.jsx)("div",{css:o.inlineMessageStyle,role:"status","aria-live":"polite"},ye))),ge&&pe&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(t.SettingSection,null,(0,e.jsx)(t.SettingRow,{level:1,label:l("precision"),tag:"label",flow:"wrap"},(0,e.jsx)(s.NumericInput,{value:Number.isFinite(I)?I:p.min,onChange:ke,onAcceptValue:e=>{const t=d(e);null==t?Me():Ie(t)},min:p.min,max:p.max,"aria-label":l("precision"),css:o.fullWidth}),(0,e.jsx)("div",{css:o.helperStyle},l("precisionHelper")))),(0,e.jsx)(t.SettingSection,null,(0,e.jsx)(t.SettingRow,{level:1,label:l("showExportButton"),tag:"label",flow:"no-wrap"},(0,e.jsx)(s.Switch,{checked:!!M,onChange:Ee(E,"showExportButton")})),(0,e.jsx)(t.SettingRow,{level:1,label:l("enablePin"),tag:"label",flow:"no-wrap"},(0,e.jsx)(s.Switch,{checked:!!P,onChange:Ee(R,"enablePin")})),(0,e.jsx)(t.SettingRow,{level:1,label:l("copyOnClick"),tag:"label",flow:"no-wrap"},(0,e.jsx)(s.Switch,{checked:!!C,onChange:Ee(j,"copyOnClick")}))),P&&(0,e.jsx)(t.SettingSection,null,(0,e.jsx)(t.SettingRow,{level:1,label:l("pinColor"),tag:"label",flow:"wrap"},(0,e.jsx)(le,{value:W,onChange:Ce,"aria-label":l("pinColor"),styles:o})),(0,e.jsx)(t.SettingRow,{level:1,label:l("pinIcon"),tag:"label",flow:"wrap"},(0,e.jsx)(s.AdvancedButtonGroup,{css:o.iconGroupStyle,size:"sm"},V.map((t=>{const a=l(t.labelMessageKey),i=B===t.id;return(0,e.jsx)(s.Button,{key:t.id,icon:!0,type:"tertiary",active:i,onClick:()=>je(t.id),"aria-label":a,title:a},(0,e.jsx)(ce,{definition:t,color:W,styles:o}))}))))),(0,e.jsx)(X,{id:a.id,onSettingChange:we,config:a.config,currentVariant:G})))};function ue(e){o.p=e}})(),l})())}}}));