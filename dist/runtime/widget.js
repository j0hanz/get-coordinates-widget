System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-theme"],(function(e,t){var n={},r={},o={},s={};return{setters:[function(e){n.React=e.React,n.css=e.css,n.hooks=e.hooks,n.jsx=e.jsx},function(e){r.JimuMapViewComponent=e.JimuMapViewComponent,r.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules},function(e){o.Button=e.Button,o.Dropdown=e.Dropdown,o.DropdownButton=e.DropdownButton,o.DropdownItem=e.DropdownItem,o.DropdownMenu=e.DropdownMenu,o.SVG=e.SVG},function(e){s.useTheme=e.useTheme}],execute:function(){e((()=>{var e={655:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.146 4.653a.485.485 0 0 1 .708 0L8 10.24l5.146-5.587a.485.485 0 0 1 .708 0 .54.54 0 0 1 0 .738l-5.5 5.956a.485.485 0 0 1-.708 0l-5.5-5.956a.54.54 0 0 1 0-.738" clip-rule="evenodd"></path></svg>'},1888:e=>{"use strict";e.exports=s},2686:e=>{"use strict";e.exports=r},4213:function(e,t,n){var r,o,s;o=[],void 0===(s="function"==typeof(r=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,n){var i=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):o(l.href)?r(e,t,n):s(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(o(e))r(e,n,a);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,t,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,p=d.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,o):r)||(e.exports=s)},4321:e=>{"use strict";e.exports=o},4647:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjMDAwMDAwIj48ZyBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjIiPjxwYXRoIGQ9Ik0yIDEyaDNtMTQgMGgzTTEyIDJ2M20wIDE0djMiLz48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI3Ii8+PGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMyIvPjwvZz48L3N2Zz4="},5343:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjIiIGQ9Ik0yIDEyaDNtMTQgMGgzTTEyIDJ2M20wIDE0djNNNy4xMSA3LjExQzUuODMgOC4zOSA1IDEwLjEgNSAxMmMwIDMuODcgMy4xMyA3IDcgN2MxLjkgMCAzLjYxLS44MyA0Ljg5LTIuMTFtMS44Mi0yLjkzYy4xOS0uNjMuMjktMS4yOS4yOS0xLjk2YzAtMy44Ny0zLjEzLTctNy03Yy0uNjcgMC0xLjMzLjEtMS45Ni4yOU0yIDJsMjAgMjAiLz48L3N2Zz4="},5420:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02Ljk3Mjg3IDExLjQ4NEM2Ljk3Mjg3IDExLjc2OSA3LjIwODg3IDEyIDcuNSAxMkM3Ljc5MTEzIDEyIDguMDI3MTMgMTEuNzY5IDguMDI3MTMgMTEuNDg0VjEuOTc1NTVMMTAuNjAwMSA0LjQ3MzI0QzEwLjgwNiA0LjY3NDc2IDExLjEzOTcgNC42NzQ3NiAxMS4zNDU2IDQuNDczMjRDMTEuNTUxNSA0LjI3MTcyIDExLjU1MTUgMy45NDQ5OSAxMS4zNDU2IDMuNzQzNDdMNy41IDBMMy42NTQzOSAzLjc0MzQ3QzMuNDQ4NTQgMy45NDQ5OSAzLjQ0ODU0IDQuMjcxNzIgMy42NTQzOSA0LjQ3MzI0QzMuODYwMjUgNC42NzQ3NiA0LjE5NDAxIDQuNjc0NzYgNC4zOTk4NyA0LjQ3MzI0TDYuOTcyODcgMS45NzU1NVYxMS40ODRaTTEgOFYxNUgxNFY4SDE1VjE2SDBWOEgxWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="},6426:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},7965:(e,t,n)=>{"use strict";var r=n(6426),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,s,a,i,l,c,u=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),i=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=o[t.format]||o.default;window.clipboardData.setData(s,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(c),i.selectNodeContents(c),l.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),s=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(s,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(i):l.removeAllRanges()),c&&document.body.removeChild(c),a()}return u}},8657:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11 2v10H3V4.414L5.414 2zM2 4.414a1 1 0 0 1 .293-.707l2.414-2.414A1 1 0 0 1 5.414 1H11a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zM13.048 3v10.56c0 .265-.214.48-.477.48H4V15h8.571c.79 0 1.429-.645 1.429-1.44V3z" clip-rule="evenodd"></path></svg>'},9244:e=>{"use strict";e.exports=n}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="";var i={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(i),a.d(i,{__set_webpack_public_path__:()=>Ve,default:()=>Be,projectionTestHelpers:()=>Ue});var e=a(9244),t=a(2686),n=a(4321),r=a(1888),o=a(655),s=a.n(o),l=a(8657),c=a.n(l),u=a(7965),d=a.n(u);const p=e=>{if(!((e,t)=>"boolean"==typeof e?e:!!Array.isArray(t)&&t.length>0)(e.hasMap,e.mapWidgetIds))return{hasMap:!1,hasFormats:!1,status:"no-map",messageKey:"noView"};return((e,t)=>"boolean"==typeof e?e:!!Array.isArray(t)&&t.length>0)(e.hasFormats,e.enabledWkids)?{hasMap:!0,hasFormats:!0,status:"ready",messageKey:null}:{hasMap:!0,hasFormats:!1,status:"no-formats",messageKey:"noFormats"}},f=(e,t)=>Boolean(e&&e!==t),y=(e,t)=>{if("function"==typeof t.clone)return t.clone();const{Point:n}=e;return new n({x:t.x,y:t.y,spatialReference:t.spatialReference})},m=e=>{if(e?.spatialReference?.isWGS84&&"function"==typeof e.normalize)try{e.normalize()}catch{}return e},g=e=>{const t={};return n=>{if(!e)return null;let r=t[n];if(!r)try{r=new(0,e.SpatialReference)({wkid:n}),t[n]=r}catch{return null}return r}},w=e=>"object"==typeof e&&null!==e&&"sys"in e,b=(e,t)=>{if(!w(e))return;const n=e.sys?.color,r=n?.[t];return"object"==typeof r&&null!==r?r:void 0},h=e=>{if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e&&""!==e.trim()){const t=Number(e);if(Number.isFinite(t))return t}return null},x=(e,t,n)=>Math.min(n,Math.max(t,e)),k=async(e,t,n,r)=>{if(!e?.spatialReference||!n)return null;const{projection:o,webMercatorUtils:s}=n,a=e.spatialReference;if(a.wkid===t.wkid)return m(y(n,e));const i=a.isWGS84?m(y(n,e)):null;if(a.isWGS84&&4326===t.wkid)return i;if(!(l=a.wkid,102100!==l&&3857!==l&&102113!==l||4326!==t.wkid))return((e,t)=>{const n=t.webMercatorToGeographic(e);return m(n)})(e,s);var l;const c=r(t.wkid);return c?await(async(e,t,n)=>{try{await(async e=>{e&&!e.isLoaded()&&await e.load()})(n);const r=n.project(e,t);return m(r)}catch{return null}})(i??e,c,o):null},v=new Set(["sweref99","rt90","wgs84","etrs89","itrf"]),M="sweref99",S=Object.freeze({min:0,max:6}),E=new Set(["latitude","longitude"]),I=Object.freeze([{id:"sweref_99_tm",wkid:3006,label:"SWEREF 99 TM (EPSG:3006)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_12_00",wkid:3007,label:"SWEREF 99 12 00 (EPSG:3007)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_13_30",wkid:3008,label:"SWEREF 99 13 30 (EPSG:3008)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_15_00",wkid:3009,label:"SWEREF 99 15 00 (EPSG:3009)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_16_30",wkid:3010,label:"SWEREF 99 16 30 (EPSG:3010)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_18_00",wkid:3011,label:"SWEREF 99 18 00 (EPSG:3011)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_14_15",wkid:3012,label:"SWEREF 99 14 15 (EPSG:3012)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_15_45",wkid:3013,label:"SWEREF 99 15 45 (EPSG:3013)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_17_15",wkid:3014,label:"SWEREF 99 17 15 (EPSG:3014)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_18_45",wkid:3015,label:"SWEREF 99 18 45 (EPSG:3015)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_20_15",wkid:3016,label:"SWEREF 99 20 15 (EPSG:3016)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_21_45",wkid:3017,label:"SWEREF 99 21 45 (EPSG:3017)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_23_15",wkid:3018,label:"SWEREF 99 23 15 (EPSG:3018)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"sweref_99_24_00",wkid:3019,label:"SWEREF 99 24 00 (EPSG:3019)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy"}]),R=Object.freeze([{id:"rt90_7_5_gon_v",wkid:3020,label:"RT 90 7,5 gon V (EPSG:3020)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_5_gon_v",wkid:3021,label:"RT 90 5 gon V (EPSG:3021)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_2_5_gon_v",wkid:3022,label:"RT 90 2,5 gon V (EPSG:3022)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_0_gon",wkid:3023,label:"RT 90 0 gon (EPSG:3023)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_2_5_gon_o",wkid:3024,label:"RT 90 2,5 gon O (EPSG:3024)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_5_gon_o",wkid:3025,label:"RT 90 5 gon O (EPSG:3025)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"}]),j=Object.freeze([{id:"wgs84",wkid:4326,label:"WGS 84 lat/long (EPSG:4326)",system:"wgs84",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),O=Object.freeze([{id:"sweref_99_geodetic",wkid:4669,label:"SWEREF 99 lat/long (EPSG:4669)",system:"sweref99",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),L=Object.freeze([{id:"wgs84_web_mercator",wkid:3857,label:"WGS 84 Web Mercator (EPSG:3857)",system:"wgs84",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"wgs84_utm33n",wkid:32633,label:"WGS 84 / UTM zone 33N (EPSG:32633)",system:"wgs84",axisMessageKeys:["easting","northing"],valueOrder:"xy"}]),C=Object.freeze([{id:"etrs89",wkid:4258,label:"ETRS89 lat/long (EPSG:4258)",system:"etrs89",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),D=Object.freeze([{id:"itrf2014",wkid:7912,label:"ITRF2014 lat/long (EPSG:7912)",system:"itrf",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),P=3006,N=Object.freeze([...I,...O]),A=Object.freeze([...j,...L]),z=Object.freeze(N.map((e=>e.wkid))),T=(new Set(z),Object.freeze([...z])),_=Object.freeze({sweref99:{messageKey:"systemLabelSweref99",defaultLabel:"SWEREF 99"},rt90:{messageKey:"systemLabelRt90",defaultLabel:"RT 90"},wgs84:{messageKey:"systemLabelWgs84",defaultLabel:"WGS 84"},etrs89:{messageKey:"systemLabelEtrs89",defaultLabel:"ETRS89"},itrf:{messageKey:"systemLabelItrf",defaultLabel:"ITRF2014"}}),G=Object.freeze([{id:"sweref99",label:_.sweref99.defaultLabel,labelMessageKey:_.sweref99.messageKey,defaultWkid:P,options:N},{id:"rt90",label:_.rt90.defaultLabel,labelMessageKey:_.rt90.messageKey,defaultWkid:3022,options:R},{id:"wgs84",label:_.wgs84.defaultLabel,labelMessageKey:_.wgs84.messageKey,defaultWkid:4326,options:A},{id:"etrs89",label:_.etrs89.defaultLabel,labelMessageKey:_.etrs89.messageKey,defaultWkid:4258,options:C},{id:"itrf",label:_.itrf.defaultLabel,labelMessageKey:_.itrf.messageKey,defaultWkid:7912,options:D}]),W=G.flatMap((e=>Array.from(e.options))),K=new Map(W.map((e=>[e.wkid,e]))),F=(new Map(W.map(((e,t)=>[e.wkid,t]))),new Map(G.map((e=>[e.id,e])))),B=Object.freeze({sweref99:P,rt90:3022,wgs84:4326,etrs89:4258,itrf:7912}),U=/^#([0-9a-f]{6}|[0-9a-f]{8})$/i,V="#000000",J=Object.freeze([{id:"classicPin",labelMessageKey:"pinIconClassicPin",viewBox:"0 0 32 32",svgBody:'<path fill="{{color}}" d="M16 3.5A7.5 7.5 0 0 0 8.5 11c0 4.143 7.5 18.12 7.5 18.12S23.5 15.144 23.5 11A7.5 7.5 0 0 0 16 3.5zm0 11.084a3.583 3.583 0 1 1 0-7.168a3.583 3.583 0 1 1 0 7.168z"/>',mapSymbol:{width:22,height:22,yOffset:10}},{id:"targetCircle",labelMessageKey:"pinIconTargetCircle",viewBox:"0 0 2048 2048",svgBody:'<path fill="{{color}}" d="M1024 128q123 0 237 32t214 90t182 141t140 181t91 214t32 238q0 123-32 237t-90 214t-141 182t-181 140t-214 91t-238 32q-123 0-237-32t-214-90t-182-141t-140-181t-91-214t-32-238q0-123 32-237t90-214t141-182t181-140t214-91t238-32zm0 1664q106 0 204-27t183-78t156-120t120-155t77-184t28-204q0-106-27-204t-78-183t-120-156t-155-120t-184-77t-204-28q-106 0-204 27t-183 78t-156 120t-120 155t-77 184t-28 204q0 106 27 204t78 183t120 156t155 120t184 77t204 28zm0-1152q79 0 149 30t122 83t82 122t31 149q0 79-30 149t-83 122t-122 82t-149 31q-79 0-149-30t-122-83t-82-122t-31-149q0-79 30-149t83-122t122-82t149-31z"/>',mapSymbol:{width:22,height:22,yOffset:0}},{id:"dropMarker",labelMessageKey:"pinIconDropMarker",viewBox:"-7 -1.5 24 24",svgBody:'<path fill="{{color}}" d="M4 10.465a5.002 5.002 0 0 1 1-9.9a5 5 0 0 1 1 9.9v9.1a1 1 0 0 1-2 0v-9.1z"/>',mapSymbol:{width:22,height:22,yOffset:10}},{id:"beaconPin",labelMessageKey:"pinIconBeaconPin",viewBox:"0 0 1024 1024",svgBody:'<path fill="{{color}}" d="M480 512h64v320h-64z"/><path fill="{{color}}" d="M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64zm64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128zm256-256a192 192 0 1 0 0-384a192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512z"/>',mapSymbol:{width:22,height:22,yOffset:6}},{id:"ringPin",labelMessageKey:"pinIconRingPin",viewBox:"0 0 24 24",svgBody:'<g fill="none" stroke="{{color}}" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M2 12h3m14 0h3M12 2v3m0 14v3"/><circle cx="12" cy="12" r="7"/><circle cx="12" cy="12" r="3"/></g>',mapSymbol:{width:22,height:22,yOffset:0}}]),$=new Map(J.map((e=>[e.id,e]))),H=J[0].id,Z=Object.freeze([{key:"json",extension:"json",mime:"application/json",messageKey:"exportJson"},{key:"xml",extension:"xml",mime:"application/xml",messageKey:"exportXml"},{key:"yaml",extension:"yaml",mime:"application/x-yaml",messageKey:"exportYaml"}]),Q=new Map(Z.map((e=>[e.key,e]))),Y="noValue",q=(e,t)=>"string"==typeof e?e:"number"==typeof e&&Number.isFinite(e)?String(e):t,X=e=>{const t=h(e);return null===t?null:t},ee=(e,t)=>{if("boolean"==typeof e)return e;if("string"==typeof e){const t=e.trim().toLowerCase();if("true"===t)return!0;if("false"===t)return!1}if("number"==typeof e){if(1===e)return!0;if(0===e)return!1}return t},te=e=>{const t=e.trim();if(!t)return null;const n=t.startsWith("#")?t:`#${t}`;return U.test(n)?n.toUpperCase():null},ne={precision:(e,t,n)=>{const r="number"==typeof n?.min?n.min:S.min,o="number"==typeof n?.max?n.max:S.max,s=X(e);if(null===s){const e=X(t),n=null===e?S.min:e;return x(Math.round(n),r,o)}return x(Math.round(s),r,o)},hexColor:(e,t)=>{if("string"==typeof e){const t=te(e);if(t)return t}return te(t)??V},pinIconId:(e,t)=>"string"==typeof e&&$.has(e)?e:t&&$.has(t)?t:H,wkid:(e,t)=>{const n=X(e);if(null===n)return t;const r=K.get(n);return r?r.wkid:t}},re=(e,t,n)=>{const r=oe(t),o=new Set(r.map((e=>e.wkid))),s=new Set;if(Array.isArray(e))for(const t of e){const e=h(t);null!=e&&s.add(e)}const a=[];for(const e of r)s.has(e.wkid)&&o.has(e.wkid)&&a.push(e.wkid);return 0!==a.length||n?.allowEmpty?a:r.map((e=>e.wkid))},oe=e=>e?W.map((e=>({...e}))):N.map((e=>({...e}))),se=e=>{if(!e||0===e.length)return N.map((e=>({...e})));const t=new Set;for(const n of e)"number"==typeof n&&t.add(n);const n=[];for(const e of W)t.has(e.wkid)&&n.push({...e});return 0===n.length?N.map((e=>({...e}))):n},ae=e=>K.get(e),ie=(e,t)=>((e,t)=>{const n=t.replace(/\s+/g," ").trim();if(!n)return null;const r=n.split(/\s+/).map((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))).join("\\s+"),o=new RegExp(`^${r}(?:\\s*[-\u2013\u2014]\\s*|\\s+)`,"i"),s=e.match(o);return s?e.slice(s[0].length).trim():null})(e,t),le=(e,t)=>{const n=((e,t)=>{const n=F.get(e.system),r=n?t(n.labelMessageKey):null;return r&&r!==n?.label?r:n?.label??e.system.toUpperCase()})(e,t),r=e.label.trim(),o=((e,t)=>{const n=F.get(e.system),r=n?t(n.labelMessageKey):null,o=n?.label??e.system.toUpperCase(),s=new Set;return r&&s.add(r),o&&s.add(o),r&&s.add(r.replace(/\s+/g,"")),o&&s.add(o.replace(/\s+/g,"")),Array.from(s).filter(Boolean)})(e,t);let s=null;for(const e of o){const t=ie(r,e);if(null!==t){s=t;break}}const a=s??r;return a?a.toLowerCase().startsWith(n.toLowerCase())?a:`${n} \u2013 ${a}`:n},ce=Object.freeze({swerefWkid:P,precision:S.min,showExportButton:!1,copyOnClick:!1,enablePin:!0,includeExtendedSystems:!1,enabledWkids:Array.from(T),pinFillColor:V,pinIconId:H}),ue=(e,t)=>{const n=(e=>{if(Array.isArray(e))return e;if(e&&"object"==typeof e){const t=e;if("function"==typeof t.toArray)try{return t.toArray()}catch{return[]}if("function"==typeof t.toJS)try{const e=t.toJS();return Array.isArray(e)?e:[]}catch{return[]}}return[]})(e);return re(n,t,{allowEmpty:!1})},de=(e,t)=>((e,t)=>{if(!e||"object"!=typeof e)return;if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=e;if("function"==typeof n.get)try{return n.get(t)}catch{return}})(e,t),pe=e=>{const t={swerefWkid:ce.swerefWkid,precision:ce.precision,showExportButton:ce.showExportButton,copyOnClick:ce.copyOnClick,enablePin:ce.enablePin,includeExtendedSystems:ce.includeExtendedSystems,enabledWkids:Array.from(ce.enabledWkids),pinFillColor:ce.pinFillColor,pinIconId:ce.pinIconId},n=ee(de(e,"includeExtendedSystems"),t.includeExtendedSystems),r=ue(de(e,"enabledWkids"),n);var o,s;return{swerefWkid:(o=ne.wkid(de(e,"swerefWkid"),P),s=r,Array.isArray(s)&&s.includes(o)?o:Array.isArray(s)&&s.length>0?s[0]:P),precision:ne.precision(de(e,"precision"),t.precision),showExportButton:ee(de(e,"showExportButton"),t.showExportButton),copyOnClick:ee(de(e,"copyOnClick"),t.copyOnClick),enablePin:ee(de(e,"enablePin"),t.enablePin),includeExtendedSystems:n,enabledWkids:r,pinFillColor:ne.hexColor(de(e,"pinFillColor"),t.pinFillColor),pinIconId:ne.pinIconId(de(e,"pinIconId"))}},fe=(e,t)=>{const n=e.svgBody.replace(/{{color}}/g,t),r=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${e.viewBox}" role="img" aria-hidden="true">${n}</svg>`,o="undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa:"function"==typeof btoa?btoa:null;if(!o)return null;try{return`data:image/svg+xml;base64,${o(r)}`}catch{return null}},ye=e=>{if(!e||"object"!=typeof e)return!1;const t=e;return"string"==typeof t.label&&"number"==typeof t.value&&Number.isFinite(t.value)},me=e=>{const t=e&&"object"==typeof e?e:{},n=(r=t.axes,Array.isArray(r)?r.filter(ye):[]);var r;const o=X(t.wkid)??0,s=X(t.precision)??0,a="string"==typeof(i=t.system)&&v.has(i)?t.system:M;var i;const l=q(t.zoneLabel,""),c=(e=>{const t=q(e,"");if(!t)return(new Date).toISOString();const n=Date.parse(t);return Number.isNaN(n)?(new Date).toISOString():new Date(n).toISOString()})(t.timestamp),u=(e=>e&&"object"==typeof e?e:null)(t.pointJSON);return{wkid:o,system:a,axes:n,zoneLabel:l,precision:s,timestamp:c,pointJSON:u}},ge=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),we=e=>e.replace(/"/g,'\\"'),be=e=>JSON.stringify(e,null,2),he=e=>{const t=(e=>e.map((e=>`  <axis>\n    <label>${ge(e.label)}</label>\n    <value>${ge(String(e.value))}</value>\n  </axis>`)).join("\n"))(e.axes);return`<?xml version="1.0" encoding="UTF-8"?>\n<coordinates>\n  <wkid>${ge(String(e.wkid))}</wkid>\n  <system>${ge(e.system)}</system>\n  <zoneLabel>${ge(e.zoneLabel)}</zoneLabel>\n  <axes>\n${t}\n  </axes>\n  <precision>${ge(String(e.precision))}</precision>\n  <timestamp>${ge(e.timestamp)}</timestamp>\n  <pointJSON>${ge(JSON.stringify(e.pointJSON))}</pointJSON>\n</coordinates>\n`},xe=e=>{return[`wkid: ${e.wkid}`,`system: ${e.system}`,`zoneLabel: "${we(e.zoneLabel)}"`,"axes:",...(t=e.axes,t.map((e=>`  - label: "${we(e.label)}"\n    value: ${e.value}`))),`precision: ${e.precision}`,`timestamp: "${e.timestamp}"`,`pointJSON: ${JSON.stringify(e.pointJSON)}`].join("\n");var t},ke=e=>{if("string"!=typeof e)return null;return Q.get(e)??null},ve=(e,t)=>Number(e.toFixed(t)),Me=(e,t,n,r,o)=>{const s=((e,t)=>{const n=e.some((e=>E.has(e))),r=x(Math.floor(Number.isFinite(t)?t:0),S.min,S.max);return n?Math.max(r,5):r})([e.firstAxis,e.secondAxis],n);return{wkid:e.wkid,system:e.system,axes:[{label:r[0],value:ve(e.firstValue,s)},{label:r[1],value:ve(e.secondValue,s)}],zoneLabel:t,precision:s,timestamp:(new Date).toISOString(),pointJSON:o}},Se=(e,t)=>{const n=ae(e);return n?n.wkid:B[M]??P};var Ee=a(4213);const{hexColor:Ie}=ne,Re=(n,r)=>{const[o,s]=e.React.useState(null),a=e.hooks.useCancelablePromiseMaker();return e.hooks.useEffectOnce((()=>{a((0,t.loadArcGISJSAPIModules)(n)).then((e=>{try{s(r(...e))}catch{s(null)}})).catch((()=>{}))})),o},je=(e,t)=>{if(t&&e)try{e.remove(t)}catch{}},Oe=(e,t)=>{if(e&&t)try{t.remove(e)}catch{}},Le=t=>{const{view:n,modules:r,extraModules:o,pinFillColor:s,pinIconId:a}=t,i=e.hooks.useLatest(n),l=e.hooks.useLatest(r),c=e.hooks.useLatest(o?.GraphicsLayer),u=e.hooks.useLatest(s),d=e.hooks.useLatest(a||H),p=e.React.useRef(null),f=e.React.useRef(null),y=e.React.useRef(null),m=e.React.useRef(null),g=e.React.useRef(null),w=e.React.useRef(null),b=e.React.useRef(null),h=e.hooks.useEventCallback((()=>{const e=Ie(u.current,V),t=d.current??H,n=(r=t,$.get(r)??J[0]);var r;if(g.current&&w.current===e&&b.current===t)return{url:g.current,definition:n};const o=fe(n,e);return o?(g.current=o,w.current=e,b.current=t,{url:o,definition:n}):null})),x=e.hooks.useEventCallback((()=>{const e=i.current,t=c.current,n=p.current,r=f.current;if(!e)return Oe(n,r),p.current=null,f.current=null,null;const o=e.map;if(n&&r&&r!==o&&(Oe(n,r),p.current=null,f.current=null),!p.current){if(!t)return null;try{const e=new t({listMode:"hide"});p.current=e,f.current=o,o.add(e)}catch{p.current=null,f.current=null}return p.current}f.current=o;const s=p.current,a=o?.layers;if(!s)return null;if("function"==typeof a?.includes&&a.includes(s))return s;try{o.add(s)}catch{}return s})),k=e.hooks.useEventCallback((()=>{m.current=null,je(p.current,y.current),y.current=null})),v=e.hooks.useEventCallback((e=>{const t=l.current?.Graphic;if(!e||!t)return;const n=x();if(!n)return;const r=h();if(!r)return;const{url:o,definition:s}=r,a=((e,t)=>({type:"picture-marker",url:e,width:t.mapSymbol.width,height:t.mapSymbol.height,yoffset:t.mapSymbol.yOffset}))(o,s);try{let r=y.current;r?(r.geometry=e,r.symbol=a):(r=new t({geometry:e,symbol:a}),y.current=r),je(n,r),n.add(r)}catch{}})),M=e.hooks.useEventCallback((()=>{const e=m.current;e&&v(e)})),S=e.hooks.useEventCallback((e=>{m.current=e})),E=e.hooks.useEventCallback((()=>m.current));return e.hooks.useUpdateEffect((()=>{x(),M()}),[n,o]),e.hooks.useUpdateEffect((()=>{M()}),[r]),e.hooks.useUpdateEffect((()=>{g.current=null,w.current=null,b.current=null,M()}),[s,a]),e.hooks.useUnmount((()=>{k(),Oe(p.current,f.current),p.current=null,f.current=null})),{rememberPinnedPoint:S,applyGraphic:v,clearGraphic:k,getPinnedPoint:E}},Ce=(e,t,n)=>((e,t,n)=>{if(Number.isNaN(e)||!Number.isFinite(e))return n;try{return new Intl.NumberFormat(void 0,{maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1}).format(e)}catch{return e.toFixed(t)}})(e,t,n),De=t=>{const{modules:n,configRef:r,selectedWkidRef:o,viewRef:s,getSpatialReference:a,translate:i}=t,l=e.hooks.useLatest(n),c=e.hooks.useLatest(i),u=e.React.useRef(null),d=e.React.useRef(null),p=e.hooks.useEventCallback((e=>{u.current=e,e||(d.current=null)})),f=e.hooks.useEventCallback((()=>{d.current=null})),y=e.hooks.useEventCallback((async e=>{const t=c.current,n=t(Y);if(!n)throw new Error("Missing translation for 'noValue'");if(!e)return d.current=null,n;const i=l.current;if(!i)return d.current=null,n;const u=r.current,p=Se(o.current,s.current),f=ae(p);if(!f)return d.current=null,n;try{const r=await(async(e,t,n,r)=>{const o=await k(e,t,n,r);if(!o)return null;const s="xy"===t.valueOrder?o.x:o.y,a="xy"===t.valueOrder?o.y:o.x;return{wkid:t.wkid,system:t.system,firstValue:s,secondValue:a,firstAxis:t.axisMessageKeys[0],secondAxis:t.axisMessageKeys[1]}})(e,f,i,a);if(!r)return d.current=null,n;const o=((e,t)=>{const n=e.axisMessageKeys.some((e=>E.has(e))),r=x(Math.floor(Number.isFinite(t)?t:0),S.min,S.max);return n?Math.max(r,5):r})(f,u.precision);return d.current=r,((e,t,n,r)=>{const o=Ce(e.firstValue,t,r),s=Ce(e.secondValue,t,r);return`${n(e.firstAxis)}:\u202f${o}, ${n(e.secondAxis)}:\u202f${s}`})(r,o,t,n)}catch{return d.current=null,n}}));return{rememberPoint:p,formatPoint:y,getLastPoint:e.hooks.useEventCallback((()=>u.current)),getLastSnapshot:e.hooks.useEventCallback((()=>d.current)),hasSnapshot:e.hooks.useEventCallback((()=>null!=u.current&&null!=d.current)),clearSnapshot:f}},Pe=t=>{const{projection:n,configRef:r,allowedOptionsRef:o,translate:s}=t,a=e.hooks.useLatest(s),i=e.hooks.useEventCallback((()=>n.hasSnapshot()));return{handleExportSelect:e.hooks.useEventCallback((e=>{if(!(e=>"string"==typeof e&&Q.has(e))(e))return;const t=n.getLastSnapshot(),s=n.getLastPoint();if(!t||!s)return;const i=[a.current(t.firstAxis),a.current(t.secondAxis)],l=o.current,c=l?.find((e=>e.wkid===t.wkid))??ae(t.wkid);if(!c)throw new Error(`Missing coordinate option metadata for WKID ${t.wkid}`);const u=le(c,a.current),d=Me(t,u,r.current.precision,i,"function"==typeof s.toJSON?s.toJSON():null),{content:p,mime:f}=((e,t)=>{const n=ke(t),r=me(e);if(!n)return{content:be(r),mime:"application/json"};switch(n.key){case"json":return{content:be(r),mime:n.mime};case"xml":return{content:he(r),mime:n.mime};case"yaml":return{content:`${xe(r)}\n`,mime:n.mime}}return{content:be(r),mime:"application/json"}})(d,e),y=((e,t)=>{const n=ke(t),r=me(e);return`${`coords-${r.system}-${r.wkid}-${r.timestamp}`.toLowerCase().replace(/[^a-z0-9\-]+/g,"-").replace(/^-+|-+$/g,"")}.${n?.extension??t}`})(d,e);try{const e=new Blob([p],{type:f});(0,Ee.saveAs)(e,y)}catch{}})),isReady:i}},Ne={title:"Get Coordinates",noView:"No map view connected",noFormats:"No coordinate formats selected",noValue:"No coordinates available",clickMapToPlacePin:"Click on the map to place a marker",format:"Coordinate format",export:"Export",exportJson:"Export to JSON",exportXml:"Export to XML",exportYaml:"Export to YAML",precision:"Number of decimals",copy:"Copy",copied:"Copied",systemLabelSweref99:"SWEREF 99",systemLabelRt90:"RT 90",systemLabelWgs84:"WGS 84",systemLabelEtrs89:"ETRS 89",systemLabelItrf:"ITRF 2014",easting:"E",northing:"N",latitude:"Lat",longitude:"Lon",clipboardUnavailable:"Clipboard service is not available",pinToggleOn:"Enable map marker",pinToggleOff:"Disable map marker"};var Ae=a(5420),ze=a.n(Ae),Te=a(5343),_e=a.n(Te),Ge=a(4647),We=a.n(Ge);const Ke=Ne[Y];if(!Ke)throw new Error(`Missing default translation for '${Y}'`);function Fe(){const t=(0,r.useTheme)(),n=e.React.useRef(null),o=e.React.useRef(null);let s=n.current;return s&&o.current===t||(s=(t=>{const n=w(t)?t.sys:void 0,r=n?.spacing,o=b(t,"secondary"),s=b(t,"surface"),a=b(t,"onSurface"),i=o?.dark??"var(--sys-color-secondary-dark)";return{container:(0,e.css)({display:"flex",height:33,backgroundColor:s?.paper}),controls:(0,e.css)({display:"flex",alignItems:"center",width:"100%"}),output:(0,e.css)({marginLeft:r?.(2),flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:s?.backgroundText??a?.high??a?.variant}),pinButton:(0,e.css)({display:"flex",height:33,backgroundColor:s?.background,"&:hover svg, &:focus-visible svg, &:active svg":{color:i}}),pinIcon:(0,e.css)({transition:"color 120ms ease","&[data-active='true']":{color:i},"& svg":{color:"inherit",fill:"currentColor",stroke:"currentColor",transition:"color 120ms ease"},"& svg [stroke]:not([stroke='none'])":{stroke:"currentColor"},"& svg [fill]:not([fill='none'])":{fill:"currentColor"}}),actions:(0,e.css)({display:"flex",alignItems:"center","&[data-can-copy='false'] [data-role='copy-icon']":{display:"none"}}),copyIcon:(0,e.css)({display:"flex",alignItems:"center",marginRight:r?.(2),opacity:0,pointerEvents:"none",transition:"opacity 120ms ease","&[data-visible='true']":{opacity:.25}})}})(t),n.current=s,o.current=t),s}const Be=r=>{const o=e.hooks.useTranslation(Ne),a=e.hooks.useLatest(o),{message:i,show:l,clear:u}=(t=>{const[n,r]=e.React.useState(null),o=e.React.useRef(null),s=e.hooks.useEventCallback((()=>{null!=o.current&&(window.clearTimeout(o.current),o.current=null),r(null)})),a=e.hooks.useEventCallback((e=>{const n=t.current;if("function"!=typeof n)return;const s=n(e);s&&(null!=o.current&&(window.clearTimeout(o.current),o.current=null),r(s),o.current=window.setTimeout((()=>{o.current=null,r(null)}),1e3))}));return e.hooks.useUnmount((()=>{s()})),{message:n,show:a,clear:s}})(a),[y,m]=e.React.useState((()=>pe(r.config))),w=e.hooks.useLatest(y),[b,h]=e.React.useState(null),[x,k]=e.React.useState((()=>y.swerefWkid??3006)),[v,M]=e.React.useState(Ke),[S,E]=e.React.useState(!1),[I,R]=e.React.useState(!1),j=Re(["esri/geometry/Point","esri/geometry/SpatialReference","esri/geometry/projection","esri/geometry/support/webMercatorUtils","esri/Graphic"],((e,t,n,r,o)=>({Point:e,SpatialReference:t,projection:n,webMercatorUtils:r,Graphic:o}))),O=Re(["esri/layers/GraphicsLayer"],(e=>({GraphicsLayer:e})));e.hooks.useUpdateEffect((()=>{m(pe(r.config))}),[r.config]);const L=Fe(),C=o(Y);if(!C)throw new Error("Missing translation for 'noValue'");const D=e.hooks.useLatest(b?.view),P=e.hooks.useLatest(x),N=e.hooks.useLatest(S),A=e.hooks.useLatest(C),z=e.React.useRef(null),[T,_]=e.React.useState(!1),G=Le({view:b?.view,modules:j,extraModules:O,pinFillColor:y.pinFillColor,pinIconId:y.pinIconId}),W=G.getPinnedPoint,[K,F]=e.React.useState((()=>se(y.enabledWkids))),B=e.hooks.useLatest(K);e.hooks.useUpdateEffect((()=>{F(se(y.enabledWkids))}),[y.enabledWkids]);const U=e.React.useRef(g(j));e.hooks.useUpdateEffect((()=>{U.current=g(j)}),[j]);const V=U.current,J=De({modules:j,configRef:w,selectedWkidRef:P,viewRef:D,getSpatialReference:V,translate:o}),$=Pe({projection:J,configRef:w,allowedOptionsRef:B,translate:o}),H=p({hasMap:!!b,hasFormats:K.length>0}),Q=y.enablePin&&S&&!I,q=Q?o("clickMapToPlacePin"):null,X=H.messageKey?o(H.messageKey):q??v,ee=i??X,te="ready"===H.status&&!Q&&f(v,C),ne="ready"===H.status&&K.length>=2;e.hooks.useUpdateEffect((()=>{te||_(!1)}),[te]);const re=e.hooks.useEventCallback((()=>{G.rememberPinnedPoint(null),G.clearGraphic(),R(!1)})),oe=e.hooks.useEventCallback((e=>{e&&(G.rememberPinnedPoint(e),G.applyGraphic(e),R(!0))}));e.hooks.useUpdateEffect((()=>{y.enablePin||(S&&E(!1),re())}),[y.enablePin,S,re]),e.hooks.useUpdateEffect((()=>{if(!S)return void re();if(!j?.Graphic)return;const e=W();e&&oe(e)}),[S,j,W,oe,re]),e.hooks.useUpdateEffect((()=>{b||(S&&E(!1),re(),J.rememberPoint(null),M(C),u())}),[b,S,C]),e.React.useEffect((()=>{!K.some((e=>e.wkid===x))&&K.length>0&&k(K[0].wkid)}),[K,x]);const ae=e.React.useRef(0),ie=e.hooks.useEventCallback((async(e,t)=>{const n=t?.syncPin??!1,r=++ae.current;J.rememberPoint(e);const o=A.current;if(!o)throw new Error("Missing translation for 'noValue'");let s=o;try{s=await J.formatPoint(e)}catch{s=o}return r!==ae.current?null:(M(s),n&&(e&&N.current?oe(e):re()),s)}));e.hooks.useUnmount((()=>{re(),u()})),e.hooks.useUpdateEffect((()=>{const e=y.swerefWkid;"number"==typeof e&&e!==P.current&&k(e)}),[y.swerefWkid]),e.hooks.useUpdateEffect((()=>{const e=J.getLastPoint();e?ie(e).catch((()=>{})):M(C)}),[x,y.precision,C,ie]);const ce=e.hooks.useEventCallback((e=>{h(e)})),ue=e.hooks.useEventCallback((e=>{const t=B.current,n="number"==typeof e?e:Number(e);Number.isFinite(n)&&t?.some((e=>e.wkid===n))&&n!==P.current&&k(n)})),de=e.hooks.useEventCallback((async e=>{const t=D.current;if(!t)return;const n=t.toMap({x:e?.x,y:e?.y});if(n)try{const e=await ie(n,{syncPin:!0}),t=A.current;e&&t&&y.copyOnClick&&f(e,t)&&ye(e)}catch{}}));(t=>{const{view:n,isPinnedRef:r,updateFromPoint:o,handleMapClick:s}=t,a=e.hooks.useLatest(n),i=e.hooks.useLatest(o),l=e.hooks.useLatest(s),c=e.React.useRef(null),u=e.React.useRef(null),d=e.hooks.useEventCallback((()=>{null!=c.current&&(cancelAnimationFrame(c.current),c.current=null)}));e.hooks.useUnmount((()=>{d()})),e.hooks.useUpdateEffect((()=>{const e=a.current;if(!e)return void d();const t=[],n=e.on("pointer-move",(e=>{r.current||(u.current=e,null==c.current&&(c.current=window.requestAnimationFrame((async()=>{c.current=null;const e=u.current;if(!e||!a.current)return;const t=a.current.toMap({x:e.x,y:e.y});await i.current(t)}))))}));t.push((()=>{n.remove()}));const o=e.on("click",(e=>{l.current(e)}));return t.push((()=>{o.remove()})),()=>{t.forEach((e=>{e()})),d()}}),[n])})({view:b?.view,isPinnedRef:N,updateFromPoint:ie,handleMapClick:de});const fe=e.hooks.useEventCallback((e=>{e?.preventDefault(),e?.stopPropagation&&e.stopPropagation();const t=e?.nativeEvent;t?.stopImmediatePropagation&&t.stopImmediatePropagation(),E((e=>!e))})),ye=e.hooks.useEventCallback((e=>{const t=(e=>{if(!e)return!1;try{return d()(e,{format:"text/plain"})}catch{return!1}})(e);l(t?"copied":"clipboardUnavailable")})),me=e.hooks.useEventCallback((()=>{te&&_(!0)})),ge=e.hooks.useEventCallback((()=>{_(!1)})),we=e.hooks.useEventCallback((()=>{te&&ye(v)})),be=e.hooks.useEventCallback((e=>{te&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),ye(v)))})),he=S?_e():We();return(0,e.jsx)("div",{css:L.container},(0,e.jsx)(t.JimuMapViewComponent,{useMapWidgetId:r.useMapWidgetIds?.[0],onActiveViewChange:ce}),(0,e.jsx)("div",{css:L.controls},y.enablePin&&(0,e.jsx)(n.Button,{type:"tertiary",icon:!0,css:L.pinButton,"aria-pressed":S,"aria-label":o(S?"pinToggleOff":"pinToggleOn"),title:o(S?"pinToggleOff":"pinToggleOn"),onClick:fe,disabled:!b},(0,e.jsx)(n.SVG,{src:he,css:L.pinIcon,"aria-hidden":"true","data-active":S?"true":"false",size:22,role:"presentation"})),(0,e.jsx)("div",{css:L.output,ref:z,"aria-live":"polite",onClick:we,onKeyDown:be,onMouseEnter:me,onMouseLeave:ge,role:te?"button":void 0,tabIndex:te?0:void 0,"aria-label":te?o("copy"):void 0,title:ee,"data-can-copy":te?"true":"false"},ee),(0,e.jsx)("div",{css:L.actions,"data-role":"actions","data-can-copy":te?"true":"false"},(0,e.jsx)("div",{css:L.copyIcon,"data-role":"copy-icon","data-visible":te&&T?"true":"false","aria-hidden":"true"},(0,e.jsx)(n.SVG,{src:c(),size:20,role:"presentation"})),y.showExportButton&&(0,e.jsx)(n.Dropdown,{activeIcon:!0,menuRole:"listbox","aria-label":o("export")},(0,e.jsx)(n.DropdownButton,{arrow:!1,icon:!0,type:"tertiary",css:L.pinButton,title:o("export"),role:"combobox",disabled:"ready"!==H.status||!$.isReady()},(0,e.jsx)(n.SVG,{src:ze(),size:14})),(0,e.jsx)(n.DropdownMenu,{alignment:"start"},Z.map((t=>(0,e.jsx)(n.DropdownItem,{key:t.key,onClick:()=>{$.handleExportSelect(t.key)},role:"menuitem",title:o(t.messageKey)},o(t.messageKey)))))),ne&&(0,e.jsx)(n.Dropdown,{activeIcon:!0,menuRole:"listbox","aria-label":o("format")},(0,e.jsx)(n.DropdownButton,{arrow:!1,icon:!0,type:"tertiary",css:L.pinButton,title:o("format"),role:"combobox",disabled:0===K.length},(0,e.jsx)(n.SVG,{src:s(),size:16})),(0,e.jsx)(n.DropdownMenu,{alignment:"start"},K.map((t=>{const r=le(t,o),s=t.wkid===x;return(0,e.jsx)(n.DropdownItem,{key:t.wkid,active:s,onClick:()=>ue(t.wkid),title:r,role:"menuitemradio","aria-checked":s},r)})))))))},Ue={projectPointToOption:k,hasCopyableText:f};function Ve(e){a.p=e}})(),i})())}}}));