System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-theme"],(function(e,t){var n={},r={},a={},s={};return{setters:[function(e){n.React=e.React,n.css=e.css,n.hooks=e.hooks,n.jsx=e.jsx},function(e){r.JimuMapViewComponent=e.JimuMapViewComponent,r.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules},function(e){a.Button=e.Button,a.Dropdown=e.Dropdown,a.DropdownButton=e.DropdownButton,a.DropdownItem=e.DropdownItem,a.DropdownMenu=e.DropdownMenu,a.SVG=e.SVG},function(e){s.useTheme=e.useTheme}],execute:function(){e((()=>{var e={655:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.146 4.653a.485.485 0 0 1 .708 0L8 10.24l5.146-5.587a.485.485 0 0 1 .708 0 .54.54 0 0 1 0 .738l-5.5 5.956a.485.485 0 0 1-.708 0l-5.5-5.956a.54.54 0 0 1 0-.738" clip-rule="evenodd"></path></svg>'},1888:e=>{"use strict";e.exports=s},2686:e=>{"use strict";e.exports=r},4213:function(e,t,n){var r,a,s;a=[],void 0===(s="function"==typeof(r=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,n){var i=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):a(l.href)?r(e,t,n):s(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(a(e))r(e,n,o);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(e);a?a.location=p:location.href=p,a=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});o.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,a):r)||(e.exports=s)},4321:e=>{"use strict";e.exports=a},4647:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjMDAwMDAwIj48ZyBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjIiPjxwYXRoIGQ9Ik0yIDEyaDNtMTQgMGgzTTEyIDJ2M20wIDE0djMiLz48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI3Ii8+PGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMyIvPjwvZz48L3N2Zz4="},5343:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjIiIGQ9Ik0yIDEyaDNtMTQgMGgzTTEyIDJ2M20wIDE0djNNNy4xMSA3LjExQzUuODMgOC4zOSA1IDEwLjEgNSAxMmMwIDMuODcgMy4xMyA3IDcgN2MxLjkgMCAzLjYxLS44MyA0Ljg5LTIuMTFtMS44Mi0yLjkzYy4xOS0uNjMuMjktMS4yOS4yOS0xLjk2YzAtMy44Ny0zLjEzLTctNy03Yy0uNjcgMC0xLjMzLjEtMS45Ni4yOU0yIDJsMjAgMjAiLz48L3N2Zz4="},5420:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNi45NzI4NyAxMS40ODRDNi45NzI4NyAxMS43NjkgNy4yMDg4NyAxMiA3LjUgMTJDNy43OTExMyAxMiA4LjAyNzEzIDExLjc2OSA4LjAyNzEzIDExLjQ4NFYxLjk3NTU1TDEwLjYwMDEgNC40NzMyNEMxMC44MDYgNC42NzQ3NiAxMS4xMzk3IDQuNjc0NzYgMTEuMzQ1NiA0LjQ3MzI0QzExLjU1MTUgNC4yNzE3MiAxMS41NTE1IDMuOTQ0OTkgMTEuMzQ1NiAzLjc0MzQ3TDcuNSAwTDMuNjU0MzkgMy43NDM0N0MzLjQ0ODU0IDMuOTQ0OTkgMy40NDg1NCA0LjI3MTcyIDMuNjU0MzkgNC40NzMyNEMzLjg2MDI1IDQuNjc0NzYgNC4xOTQwMSA0LjY3NDc2IDQuMzk5ODcgNC40NzMyNEw2Ljk3Mjg3IDEuOTc1NTVWMTEuNDg0Wk0xIDhWMTVIMTRWOEgxNVYxNkgwVjhIMVoiIGZpbGw9ImJsYWNrIi8+DQo8L3N2Zz4NCg=="},5508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},6426:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},7965:(e,t,n)=>{"use strict";var r=n(6426),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,s,o,i,l,c,u=!1;t||(t={}),n=t.debug||!1;try{if(o=r(),i=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=a[t.format]||a.default;window.clipboardData.setData(s,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(c),i.selectNodeContents(c),l.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),s=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(s,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(i):l.removeAllRanges()),c&&document.body.removeChild(c),o()}return u}},8657:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11 2v10H3V4.414L5.414 2zM2 4.414a1 1 0 0 1 .293-.707l2.414-2.414A1 1 0 0 1 5.414 1H11a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zM13.048 3v10.56c0 .265-.214.48-.477.48H4V15h8.571c.79 0 1.429-.645 1.429-1.44V3z" clip-rule="evenodd"></path></svg>'},9244:e=>{"use strict";e.exports=n}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var i={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(i),o.d(i,{__set_webpack_public_path__:()=>Be,default:()=>Ke,projectionTestHelpers:()=>Ue});var e=o(9244),t=o(2686),n=o(4321),r=o(1888),a=o(655),s=o.n(a),l=o(8657),c=o.n(l),u=o(5508),d=o.n(u);const p=new Set(["sweref99","rt90","wgs84","etrs89","itrf"]),f="sweref99",m=Object.freeze({min:0,max:6}),g=new Set(["latitude","longitude"]),y=Object.freeze([{id:"sweref_99_tm",wkid:3006,label:"SWEREF 99 TM (EPSG:3006)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:15,scaleFactor:.9996,falseNorthing:0,falseEasting:5e5,ellipsoid:"GRS80"}},{id:"sweref_99_12_00",wkid:3007,label:"SWEREF 99 12 00 (EPSG:3007)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:12,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_13_30",wkid:3008,label:"SWEREF 99 13 30 (EPSG:3008)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:13.5,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_15_00",wkid:3009,label:"SWEREF 99 15 00 (EPSG:3009)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:15,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_16_30",wkid:3010,label:"SWEREF 99 16 30 (EPSG:3010)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:16.5,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_18_00",wkid:3011,label:"SWEREF 99 18 00 (EPSG:3011)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:18,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_14_15",wkid:3012,label:"SWEREF 99 14 15 (EPSG:3012)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:14.25,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_15_45",wkid:3013,label:"SWEREF 99 15 45 (EPSG:3013)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:15.75,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_17_15",wkid:3014,label:"SWEREF 99 17 15 (EPSG:3014)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:17.25,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_18_45",wkid:3015,label:"SWEREF 99 18 45 (EPSG:3015)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:18.75,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_20_15",wkid:3016,label:"SWEREF 99 20 15 (EPSG:3016)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:20.25,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_21_45",wkid:3017,label:"SWEREF 99 21 45 (EPSG:3017)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:21.75,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_23_15",wkid:3018,label:"SWEREF 99 23 15 (EPSG:3018)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:23.25,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}},{id:"sweref_99_24_00",wkid:3019,label:"SWEREF 99 24 00 (EPSG:3019)",system:"sweref99",axisMessageKeys:["easting","northing"],valueOrder:"xy",metadata:{centralMeridian:24,scaleFactor:1,falseNorthing:0,falseEasting:15e4,ellipsoid:"GRS80"}}]),w=Object.freeze([{id:"rt90_7_5_gon_v",wkid:3020,label:"RT 90 7,5 gon V (EPSG:3020)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_5_gon_v",wkid:3021,label:"RT 90 5 gon V (EPSG:3021)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_2_5_gon_v",wkid:3022,label:"RT 90 2,5 gon V (EPSG:3022)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_0_gon",wkid:3023,label:"RT 90 0 gon (EPSG:3023)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_2_5_gon_o",wkid:3024,label:"RT 90 2,5 gon O (EPSG:3024)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"rt90_5_gon_o",wkid:3025,label:"RT 90 5 gon O (EPSG:3025)",system:"rt90",axisMessageKeys:["easting","northing"],valueOrder:"xy"}]),h=Object.freeze([{id:"wgs84",wkid:4326,label:"WGS 84 lat/long (EPSG:4326)",system:"wgs84",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),b=Object.freeze([{id:"sweref_99_geodetic",wkid:4669,label:"SWEREF 99 lat/long (EPSG:4669)",system:"sweref99",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),x=Object.freeze([{id:"wgs84_web_mercator",wkid:3857,label:"WGS 84 Web Mercator (EPSG:3857)",system:"wgs84",axisMessageKeys:["easting","northing"],valueOrder:"xy"},{id:"wgs84_utm33n",wkid:32633,label:"WGS 84 / UTM zone 33N (EPSG:32633)",system:"wgs84",axisMessageKeys:["easting","northing"],valueOrder:"xy"}]),k=Object.freeze([{id:"etrs89",wkid:4258,label:"ETRS89 lat/long (EPSG:4258)",system:"etrs89",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),v=Object.freeze([{id:"itrf2014",wkid:7912,label:"ITRF2014 lat/long (EPSG:7912)",system:"itrf",axisMessageKeys:["latitude","longitude"],valueOrder:"yx"}]),M=3006,S=Object.freeze([...y,...b]),E=Object.freeze([...h,...x]),j=Object.freeze(S.map((e=>e.wkid))),R=(new Set(j),Object.freeze([3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019]),Object.freeze([...j])),I=Object.freeze({sweref99:{messageKey:"systemLabelSweref99",defaultLabel:"SWEREF 99"},rt90:{messageKey:"systemLabelRt90",defaultLabel:"RT 90"},wgs84:{messageKey:"systemLabelWgs84",defaultLabel:"WGS 84"},etrs89:{messageKey:"systemLabelEtrs89",defaultLabel:"ETRS89"},itrf:{messageKey:"systemLabelItrf",defaultLabel:"ITRF2014"}}),N=Object.freeze([{id:"sweref99",label:I.sweref99.defaultLabel,labelMessageKey:I.sweref99.messageKey,defaultWkid:M,options:S},{id:"rt90",label:I.rt90.defaultLabel,labelMessageKey:I.rt90.messageKey,defaultWkid:3022,options:w},{id:"wgs84",label:I.wgs84.defaultLabel,labelMessageKey:I.wgs84.messageKey,defaultWkid:4326,options:E},{id:"etrs89",label:I.etrs89.defaultLabel,labelMessageKey:I.etrs89.messageKey,defaultWkid:4258,options:k},{id:"itrf",label:I.itrf.defaultLabel,labelMessageKey:I.itrf.messageKey,defaultWkid:7912,options:v}]),P=N.flatMap((e=>Array.from(e.options))),L=new Map(P.map((e=>[e.wkid,e]))),C=(new Map(P.map(((e,t)=>[e.wkid,t]))),new Map(N.map((e=>[e.id,e])))),O=Object.freeze({sweref99:M,rt90:3022,wgs84:4326,etrs89:4258,itrf:7912}),D=/^#([0-9a-f]{6}|[0-9a-f]{8})$/i,z="#000000",A=Object.freeze([{id:"classicPin",labelMessageKey:"pinIconClassicPin",viewBox:"0 0 32 32",svgBody:'<path fill="{{color}}" d="M16 3.5A7.5 7.5 0 0 0 8.5 11c0 4.143 7.5 18.12 7.5 18.12S23.5 15.144 23.5 11A7.5 7.5 0 0 0 16 3.5zm0 11.084a3.583 3.583 0 1 1 0-7.168a3.583 3.583 0 1 1 0 7.168z"/>',mapSymbol:{width:22,height:22,yOffset:10}},{id:"targetCircle",labelMessageKey:"pinIconTargetCircle",viewBox:"0 0 2048 2048",svgBody:'<path fill="{{color}}" d="M1024 128q123 0 237 32t214 90t182 141t140 181t91 214t32 238q0 123-32 237t-90 214t-141 182t-181 140t-214 91t-238 32q-123 0-237-32t-214-90t-182-141t-140-181t-91-214t-32-238q0-123 32-237t90-214t141-182t181-140t214-91t238-32zm0 1664q106 0 204-27t183-78t156-120t120-155t77-184t28-204q0-106-27-204t-78-183t-120-156t-155-120t-184-77t-204-28q-106 0-204 27t-183 78t-156 120t-120 155t-77 184t-28 204q0 106 27 204t78 183t120 156t155 120t184 77t204 28zm0-1152q79 0 149 30t122 83t82 122t31 149q0 79-30 149t-83 122t-122 82t-149 31q-79 0-149-30t-122-83t-82-122t-31-149q0-79 30-149t83-122t122-82t149-31z"/>',mapSymbol:{width:22,height:22,yOffset:0}},{id:"dropMarker",labelMessageKey:"pinIconDropMarker",viewBox:"-7 -1.5 24 24",svgBody:'<path fill="{{color}}" d="M4 10.465a5.002 5.002 0 0 1 1-9.9a5 5 0 0 1 1 9.9v9.1a1 1 0 0 1-2 0v-9.1z"/>',mapSymbol:{width:22,height:22,yOffset:10}},{id:"beaconPin",labelMessageKey:"pinIconBeaconPin",viewBox:"0 0 1024 1024",svgBody:'<path fill="{{color}}" d="M480 512h64v320h-64z"/><path fill="{{color}}" d="M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64zm64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128zm256-256a192 192 0 1 0 0-384a192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512z"/>',mapSymbol:{width:22,height:22,yOffset:6}},{id:"ringPin",labelMessageKey:"pinIconRingPin",viewBox:"0 0 24 24",svgBody:'<g fill="none" stroke="{{color}}" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M2 12h3m14 0h3M12 2v3m0 14v3"/><circle cx="12" cy="12" r="7"/><circle cx="12" cy="12" r="3"/></g>',mapSymbol:{width:22,height:22,yOffset:0}}]),T=new Map(A.map((e=>[e.id,e]))),F=A[0].id,G=Object.freeze([{key:"json",extension:"json",mime:"application/json",messageKey:"exportJson"},{key:"xml",extension:"xml",mime:"application/xml",messageKey:"exportXml"},{key:"yaml",extension:"yaml",mime:"application/x-yaml",messageKey:"exportYaml"}]),W=new Map(G.map((e=>[e.key,e]))),_="noValue",K=e=>{if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e&&""!==e.trim()){const t=Number(e);if(Number.isFinite(t))return t}return null},U=(e,t)=>{if(!e||"object"!=typeof e)return;if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=e;if("function"==typeof n.get)try{return n.get(t)}catch{return}},B=(e,t,n)=>Math.min(n,Math.max(t,e)),$=(e,t)=>"string"==typeof e?e:"number"==typeof e&&Number.isFinite(e)?String(e):t,V=e=>{const t=K(e);return null===t?null:t},J=(e,t)=>{if("boolean"==typeof e)return e;if("string"==typeof e){const t=e.trim().toLowerCase();if("true"===t)return!0;if("false"===t)return!1}if("number"==typeof e){if(1===e)return!0;if(0===e)return!1}return t},Z=e=>{const t=e.trim();if(!t)return null;const n=t.startsWith("#")?t:`#${t}`;return D.test(n)?n.toUpperCase():null},H={precision:(e,t,n)=>{const r="number"==typeof n?.min?n.min:m.min,a="number"==typeof n?.max?n.max:m.max,s=V(e);if(null===s){const e=V(t),n=null===e?m.min:e;return B(Math.round(n),r,a)}return B(Math.round(s),r,a)},hexColor:(e,t)=>{if("string"==typeof e){const t=Z(e);if(t)return t}return Z(t)??z},pinIconId:(e,t)=>"string"==typeof e&&T.has(e)?e:t&&T.has(t)?t:F,wkid:(e,t)=>{const n=V(e);if(null===n)return t;const r=L.get(n);return r?r.wkid:t}},Y=(e,t,n)=>{const r=Q(t),a=new Set(r.map((e=>e.wkid))),s=new Set;if(Array.isArray(e))for(const t of e){const e=K(t);null!=e&&s.add(e)}const o=[];for(const e of r)s.has(e.wkid)&&a.has(e.wkid)&&o.push(e.wkid);return 0!==o.length||n?.allowEmpty?o:r.map((e=>e.wkid))},Q=e=>e?P.map((e=>({...e}))):S.map((e=>({...e}))),q=e=>{if(!e||0===e.length)return S.map((e=>({...e})));const t=new Set;for(const n of e)"number"==typeof n&&t.add(n);const n=[];for(const e of P)t.has(e.wkid)&&n.push({...e});return 0===n.length?S.map((e=>({...e}))):n},X=e=>L.get(e),ee=(e,t)=>{const n=t.replace(/\s+/g," ").trim();if(!n)return null;const r=n.split(/\s+/).map((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))).join("\\s+"),a=new RegExp(`^${r}(?:\\s*[-\u2013\u2014]\\s*|\\s+)`,"i"),s=e.match(a);return s?e.slice(s[0].length).trim():null},te=(e,t)=>{const n=C.get(e.system),r=n?t(n.labelMessageKey):null,a=r&&r!==n?.label?r:n?.label??e.system.toUpperCase();if("sweref99"===e.system&&e.metadata){const n=`(EPSG:${e.wkid})`,r=t("zoneNameTm"),s="zoneNameTm"!==r&&""!==r.trim()?r:"TM";if(Math.abs(e.metadata.scaleFactor-.9996)<1e-6)return`${a} ${s} ${n}`;const o=e.metadata.centralMeridian,i=Math.trunc(o),l=Math.round(60*(o-i)),c=l>=60?i+1:i,u=String(l>=60?0:l).padStart(2,"0"),d="E",p=t("zoneNameLocalFormat");return`${a} ${"zoneNameLocalFormat"!==p&&p.includes("{degrees}")?p.replace("{degrees}",c.toString()).replace("{minutes}",u).replace("{direction}",d):`${c}\xb0${u}\u2032 ${d}`} ${n}`}const s=e.label.trim(),o=((e,t)=>{const n=C.get(e.system),r=n?t(n.labelMessageKey):null,a=n?.label??e.system.toUpperCase(),s=new Set;return r&&s.add(r),a&&s.add(a),r&&s.add(r.replace(/\s+/g,"")),a&&s.add(a.replace(/\s+/g,"")),Array.from(s).filter(Boolean)})(e,t);let i=null;for(const e of o){const t=ee(s,e);if(null!==t){i=t;break}}const l=i??s;return l?l.toLowerCase().startsWith(a.toLowerCase())?l:`${a} \u2013 ${l}`:a},ne=Object.freeze({swerefWkid:M,precision:m.min,showExportButton:!1,copyOnClick:!1,enablePin:!0,includeExtendedSystems:!1,enabledWkids:Array.from(R),pinFillColor:z,pinIconId:F,showProjectionParameters:!1}),re=(e,t)=>{const n=(e=>{if(Array.isArray(e))return e;if(e&&"object"==typeof e){const t=e;if("function"==typeof t.toArray)try{return t.toArray()}catch{return[]}if("function"==typeof t.toJS)try{const e=t.toJS();return Array.isArray(e)?e:[]}catch{return[]}}return[]})(e);return Y(n,t,{allowEmpty:!1})},ae=e=>{const t={swerefWkid:ne.swerefWkid,precision:ne.precision,showExportButton:ne.showExportButton,copyOnClick:ne.copyOnClick,enablePin:ne.enablePin,includeExtendedSystems:ne.includeExtendedSystems,enabledWkids:Array.from(ne.enabledWkids),pinFillColor:ne.pinFillColor,pinIconId:ne.pinIconId,showProjectionParameters:ne.showProjectionParameters},n=J(U(e,"includeExtendedSystems"),t.includeExtendedSystems),r=re(U(e,"enabledWkids"),n),a=(s=H.wkid(U(e,"swerefWkid"),M),o=r,Array.isArray(o)&&o.includes(s)?s:Array.isArray(o)&&o.length>0?o[0]:M);var s,o;const i=H.precision(U(e,"precision"),t.precision),l=J(U(e,"showExportButton"),t.showExportButton),c=J(U(e,"copyOnClick"),t.copyOnClick),u=J(U(e,"enablePin"),t.enablePin),d=J(U(e,"showProjectionParameters"),t.showProjectionParameters);return{swerefWkid:a,precision:i,showExportButton:l,copyOnClick:c,enablePin:u,includeExtendedSystems:n,enabledWkids:r,pinFillColor:H.hexColor(U(e,"pinFillColor"),t.pinFillColor),pinIconId:H.pinIconId(U(e,"pinIconId")),showProjectionParameters:d}},se=(e,t)=>{const n=e.svgBody.replace(/{{color}}/g,t),r=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${e.viewBox}" role="img" aria-hidden="true">${n}</svg>`,a="undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa:"function"==typeof btoa?btoa:null;if(!a)return null;try{return`data:image/svg+xml;base64,${a(r)}`}catch{return null}},oe=e=>{if(!e||"object"!=typeof e)return!1;const t=e;return"string"==typeof t.label&&"number"==typeof t.value&&Number.isFinite(t.value)},ie=e=>{const t=e&&"object"==typeof e?e:{},n=(r=t.axes,Array.isArray(r)?r.filter(oe):[]);var r;const a=V(t.wkid)??0,s=V(t.precision)??0,o="string"==typeof(i=t.system)&&p.has(i)?t.system:f;var i;const l=$(t.zoneLabel,""),c=(e=>{const t=$(e,"");if(!t)return(new Date).toISOString();const n=Date.parse(t);return Number.isNaN(n)?(new Date).toISOString():new Date(n).toISOString()})(t.timestamp),u=(e=>e&&"object"==typeof e?e:null)(t.pointJSON);return{wkid:a,system:o,axes:n,zoneLabel:l,precision:s,timestamp:c,pointJSON:u}},le=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),ce=e=>JSON.stringify(e,null,2),ue=e=>{const t=e.axes.map((e=>`  <axis>\n    <label>${le(e.label)}</label>\n    <value>${le(String(e.value))}</value>\n  </axis>`)).join("\n");return`<?xml version="1.0" encoding="UTF-8"?>\n<coordinates>\n  <wkid>${le(String(e.wkid))}</wkid>\n  <system>${le(e.system)}</system>\n  <zoneLabel>${le(e.zoneLabel)}</zoneLabel>\n  <axes>\n${t}\n  </axes>\n  <precision>${le(String(e.precision))}</precision>\n  <timestamp>${le(e.timestamp)}</timestamp>\n  <pointJSON>${le(JSON.stringify(e.pointJSON))}</pointJSON>\n</coordinates>\n`},de=e=>[`wkid: ${e.wkid}`,`system: ${e.system}`,`zoneLabel: "${e.zoneLabel.replace(/"/g,'\\"')}"`,"axes:",...e.axes.map((e=>`  - label: "${e.label.replace(/"/g,'\\"')}"\n    value: ${e.value}`)),`precision: ${e.precision}`,`timestamp: "${e.timestamp}"`,`pointJSON: ${JSON.stringify(e.pointJSON)}`].join("\n"),pe=e=>{if("string"!=typeof e)return null;return W.get(e)??null},fe=(e,t)=>Number(e.toFixed(t)),me=(e,t,n,r,a)=>{const s=((e,t)=>{const n=e.some((e=>g.has(e))),r=B(Math.floor(Number.isFinite(t)?t:0),m.min,m.max);return n?Math.max(r,5):r})([e.firstAxis,e.secondAxis],n);return{wkid:e.wkid,system:e.system,axes:[{label:r[0],value:fe(e.firstValue,s)},{label:r[1],value:fe(e.secondValue,s)}],zoneLabel:t,precision:s,timestamp:(new Date).toISOString(),pointJSON:a}},ge=(e,t)=>{const n=X(e);return n?n.wkid:O[f]??M};var ye=o(7965),we=o.n(ye);const he=e=>{if(!((e,t)=>"boolean"==typeof e?e:!!Array.isArray(t)&&t.length>0)(e.hasMap,e.mapWidgetIds))return{hasMap:!1,hasFormats:!1,status:"no-map",messageKey:"noView"};return((e,t)=>"boolean"==typeof e?e:!!Array.isArray(t)&&t.length>0)(e.hasFormats,e.enabledWkids)?{hasMap:!0,hasFormats:!0,status:"ready",messageKey:null}:{hasMap:!0,hasFormats:!1,status:"no-formats",messageKey:"noFormats"}},be=(e,t)=>Boolean(e&&e!==t),xe=(e,t)=>{if("function"==typeof t.clone)return t.clone();const{Point:n}=e;return new n({x:t.x,y:t.y,spatialReference:t.spatialReference})},ke=e=>{if(e?.spatialReference?.isWGS84&&"function"==typeof e.normalize)try{e.normalize()}catch{}return e},ve=e=>{const t={};return n=>{if(!e)return null;let r=t[n];if(!r)try{r=new(0,e.SpatialReference)({wkid:n}),t[n]=r}catch{return null}return r}},Me=e=>"object"==typeof e&&null!==e&&"sys"in e,Se=(e,t)=>{if(!Me(e))return;const n=e.sys?.color,r=n?.[t];return"object"==typeof r&&null!==r?r:void 0},Ee=(e,t,n)=>{if(Number.isNaN(e)||!Number.isFinite(e))return n;try{return new Intl.NumberFormat(void 0,{maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1}).format(e)}catch{return e.toFixed(t)}},je=async(e,t,n,r)=>{if(!e?.spatialReference||!n)return null;const{projection:a,webMercatorUtils:s}=n,o=e.spatialReference;if(o.wkid===t.wkid)return ke(xe(n,e));const i=o.isWGS84?ke(xe(n,e)):null;if(o.isWGS84&&4326===t.wkid)return i;if(!(l=o.wkid,102100!==l&&3857!==l&&102113!==l||4326!==t.wkid)){const t=s.webMercatorToGeographic(e);return ke(t)}var l;const c=r(t.wkid);if(!c)return null;try{await(async e=>{e&&!e.isLoaded()&&await e.load()})(a);const t=a.project(i??e,c);return ke(t)}catch{return null}};var Re=o(4213);const{hexColor:Ie}=H,Ne=(n,r)=>{const[a,s]=e.React.useState(null),o=e.hooks.useCancelablePromiseMaker();return e.hooks.useEffectOnce((()=>{o((0,t.loadArcGISJSAPIModules)(n)).then((e=>{try{s(r(...e))}catch{s(null)}})).catch((()=>{}))})),a},Pe=t=>{const{view:n,modules:r,extraModules:a,pinFillColor:s,pinIconId:o}=t,i=e.hooks.useLatest(n),l=e.hooks.useLatest(r),c=e.hooks.useLatest(a?.GraphicsLayer),u=e.hooks.useLatest(s),d=e.hooks.useLatest(o||F),p=e.React.useRef(null),f=e.React.useRef(null),m=e.React.useRef(null),g=e.React.useRef(null),y=e.React.useRef(null),w=e.React.useRef(null),h=e.React.useRef(null),b=e.hooks.useEventCallback((()=>{const e=Ie(u.current,z),t=d.current??F,n=(r=t,T.get(r)??A[0]);var r;if(y.current&&w.current===e&&h.current===t)return{url:y.current,definition:n};const a=se(n,e);return a?(y.current=a,w.current=e,h.current=t,{url:a,definition:n}):null})),x=e.hooks.useEventCallback((()=>{const e=i.current,t=c.current,n=p.current,r=f.current;if(!e){if(n&&r)try{r.remove(n)}catch{}return p.current=null,f.current=null,null}const a=e.map;if(n&&r&&r!==a){try{r.remove(n)}catch{}p.current=null,f.current=null}if(!p.current){if(!t)return null;try{const e=new t({listMode:"hide"});p.current=e,f.current=a,a.add(e)}catch{p.current=null,f.current=null}return p.current}f.current=a;const s=p.current,o=a?.layers;if(!s)return null;if("function"==typeof o?.includes&&o.includes(s))return s;try{a.add(s)}catch{}return s})),k=e.hooks.useEventCallback((()=>{g.current=null;const e=m.current,t=p.current;if(e&&t)try{t.remove(e)}catch{}m.current=null})),v=e.hooks.useEventCallback((e=>{const t=l.current?.Graphic;if(!e||!t)return;const n=x();if(!n)return;const r=b();if(!r)return;const{url:a,definition:s}=r,o={type:"picture-marker",url:a,width:s.mapSymbol.width,height:s.mapSymbol.height,yoffset:s.mapSymbol.yOffset};try{let r=m.current;r?(r.geometry=e,r.symbol=o):(r=new t({geometry:e,symbol:o}),m.current=r);try{n.remove(r)}catch{}n.add(r)}catch{}})),M=e.hooks.useEventCallback((()=>{const e=g.current;e&&v(e)})),S=e.hooks.useEventCallback((e=>{g.current=e})),E=e.hooks.useEventCallback((()=>g.current));return e.hooks.useUpdateEffect((()=>{x(),M()}),[n,a]),e.hooks.useUpdateEffect((()=>{M()}),[r]),e.hooks.useUpdateEffect((()=>{y.current=null,w.current=null,h.current=null,M()}),[s,o]),e.hooks.useUnmount((()=>{k();const e=p.current,t=f.current;if(e&&t)try{t.remove(e)}catch{}p.current=null,f.current=null})),{rememberPinnedPoint:S,applyGraphic:v,clearGraphic:k,getPinnedPoint:E}},Le=t=>{const{modules:n,configRef:r,selectedWkidRef:a,viewRef:s,getSpatialReference:o,translate:i}=t,l=e.hooks.useLatest(n),c=e.hooks.useLatest(i),u=e.React.useRef(null),d=e.React.useRef(null),p=e.hooks.useEventCallback((e=>{u.current=e,e||(d.current=null)})),f=e.hooks.useEventCallback((()=>{d.current=null})),y=e.hooks.useEventCallback((async e=>{const t=c.current,n=t(_);if(!n)throw new Error("Missing translation for 'noValue'");if(!e)return d.current=null,n;const i=l.current;if(!i)return d.current=null,n;const u=r.current,p=ge(a.current,s.current),f=X(p);if(!f)return d.current=null,n;try{const r=await(async(e,t,n,r)=>{const a=await je(e,t,n,r);if(!a)return null;const s="xy"===t.valueOrder?a.x:a.y,o="xy"===t.valueOrder?a.y:a.x;return{wkid:t.wkid,system:t.system,firstValue:s,secondValue:o,firstAxis:t.axisMessageKeys[0],secondAxis:t.axisMessageKeys[1]}})(e,f,i,o);if(!r)return d.current=null,n;const a=((e,t)=>{const n=e.axisMessageKeys.some((e=>g.has(e))),r=B(Math.floor(Number.isFinite(t)?t:0),m.min,m.max);return n?Math.max(r,5):r})(f,u.precision),s=Ee(r.firstValue,a,n),l=Ee(r.secondValue,a,n);return d.current=r,`${t(r.firstAxis)}:\u202f${s}, ${t(r.secondAxis)}:\u202f${l}`}catch{return d.current=null,n}}));return{rememberPoint:p,formatPoint:y,getLastPoint:e.hooks.useEventCallback((()=>u.current)),getLastSnapshot:e.hooks.useEventCallback((()=>d.current)),hasSnapshot:e.hooks.useEventCallback((()=>null!=u.current&&null!=d.current)),clearSnapshot:f}},Ce=t=>{const{projection:n,configRef:r,allowedOptionsRef:a,translate:s}=t,o=e.hooks.useLatest(s),i=e.hooks.useEventCallback((()=>n.hasSnapshot()));return{handleExportSelect:e.hooks.useEventCallback((e=>{if(!(e=>"string"==typeof e&&W.has(e))(e))return;const t=n.getLastSnapshot(),s=n.getLastPoint();if(!t||!s)return;const i=[o.current(t.firstAxis),o.current(t.secondAxis)],l=a.current,c=l?.find((e=>e.wkid===t.wkid))??X(t.wkid);if(!c)throw new Error(`Missing coordinate option metadata for WKID ${t.wkid}`);const u=te(c,o.current),d=me(t,u,r.current.precision,i,"function"==typeof s.toJSON?s.toJSON():null),{content:p,mime:f}=((e,t)=>{const n=pe(t),r=ie(e);if(!n)return{content:ce(r),mime:"application/json"};switch(n.key){case"json":return{content:ce(r),mime:n.mime};case"xml":return{content:ue(r),mime:n.mime};case"yaml":return{content:`${de(r)}\n`,mime:n.mime}}return{content:ce(r),mime:"application/json"}})(d,e),m=((e,t)=>{const n=pe(t),r=ie(e);return`${`coords-${r.system}-${r.wkid}-${r.timestamp}`.toLowerCase().replace(/[^a-z0-9\-]+/g,"-").replace(/^-+|-+$/g,"")}.${n?.extension??t}`})(d,e);try{const e=new Blob([p],{type:f});(0,Re.saveAs)(e,m)}catch{}})),isReady:i}},Oe={title:"Koordinater",noView:"Ingen kartvy \xe4r ansluten",noFormats:"Inga koordinatformat har valts",noValue:"Inga koordinater tillg\xe4ngliga",clickMapToPlacePin:"Klicka p\xe5 kartan f\xf6r att placera en mark\xf6r",format:"Koordinatformat",export:"Exportera",exportJson:"Exportera till JSON",exportXml:"Exportera till XML",exportYaml:"Exportera till YAML",precision:"Antal decimaler",copy:"Kopiera",copied:"Kopierat",systemLabelSweref99:"SWEREF 99",systemLabelRt90:"RT 90",systemLabelWgs84:"WGS 84",systemLabelEtrs89:"ETRS 89",systemLabelItrf:"ITRF 2014",easting:"E",northing:"N",latitude:"Lat",longitude:"Lon",clipboardUnavailable:"Urklippstj\xe4nsten \xe4r inte tillg\xe4nglig",pinToggleOn:"Aktivera mark\xf6r i kartan",pinToggleOff:"Inaktivera mark\xf6r i kartan",zoneNameTm:"TM",zoneNameLocalFormat:"{degrees}\xb0{minutes}\u2032 {direction}",projectionTooltipCentralMeridian:"Centralmeridian: {value}\xb0",projectionTooltipScaleFactor:"Skalreduktionsfaktor: {value}",projectionTooltipFalseEasting:"Falsk \xf6stlig: {value} m",projectionTooltipFalseNorthing:"Falsk nordlig: {value} m",projectionParameters:"Projektionsparametrar",centralMeridian:"Centralmeridian",scaleFactor:"Skalreduktionsfaktor",falseEasting:"Falsk \xf6stlig",falseNorthing:"Falsk nordlig",swerefEtrs89Relationship:"SWEREF 99 \xe4r Sveriges nationella realisering av ETRS89 (epok 1999.5)",swerefWgs84Divergence:"Skiljer cirka 8\u20139 dm fr\xe5n WGS 84 (2024)",swerefLantmaterietRef:"K\xe4lla: Lantm\xe4teriet"};var De=o(5420),ze=o.n(De),Ae=o(5343),Te=o.n(Ae),Fe=o(4647),Ge=o.n(Fe);const We=Oe[_];if(!We)throw new Error(`Missing default translation for '${_}'`);function _e(){const t=(0,r.useTheme)(),n=e.React.useRef(null),a=e.React.useRef(null);let s=n.current;return s&&a.current===t||(s=(t=>{const n=Me(t)?t.sys:void 0,r=n?.spacing,a=Se(t,"secondary"),s=Se(t,"surface"),o=Se(t,"onSurface"),i=a?.dark??"var(--sys-color-secondary-dark)";return{container:(0,e.css)({display:"flex",height:33,backgroundColor:s?.paper}),controls:(0,e.css)({display:"flex",alignItems:"center",width:"100%"}),output:(0,e.css)({marginLeft:r?.(2),flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:s?.backgroundText??o?.high??o?.variant}),pinButton:(0,e.css)({display:"flex",height:33,backgroundColor:s?.background,"&:hover svg, &:focus-visible svg, &:active svg":{color:i}}),pinIcon:(0,e.css)({transition:"color 120ms ease","&[data-active='true']":{color:i},"& svg":{color:"inherit",fill:"currentColor",stroke:"currentColor",transition:"color 120ms ease"},"& svg [stroke]:not([stroke='none'])":{stroke:"currentColor"},"& svg [fill]:not([fill='none'])":{fill:"currentColor"}}),actions:(0,e.css)({display:"flex",alignItems:"center","&[data-can-copy='false'] [data-role='copy-icon']":{display:"none"}}),copyIcon:(0,e.css)({display:"flex",alignItems:"center",marginRight:r?.(2),opacity:0,pointerEvents:"none",transition:"opacity 120ms ease",projectionParams:(0,e.css)({marginTop:r?.(2)??8,padding:r?.(2)??8,borderRadius:4,border:"1px solid var(--sys-color-outline, rgba(0,0,0,0.12))",backgroundColor:s?.background??"var(--sys-color-surface-container-lowest)",color:o?.variant,display:"flex",flexDirection:"column",gap:r?.(1)??6,width:"100%"}),projectionToggle:(0,e.css)({alignSelf:"flex-start",display:"inline-flex",alignItems:"center",gap:r?.(1)??6,padding:0}),paramLabel:(0,e.css)({fontWeight:600}),paramDetails:(0,e.css)({display:"flex",flexDirection:"column",gap:r?.(.5)??4}),paramRow:(0,e.css)({display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem",gap:r?.(1)??8}),paramKey:(0,e.css)({color:o?.variant??"var(--sys-color-on-surface-variant)"}),paramValue:(0,e.css)({fontFamily:"monospace",fontWeight:600}),"&[data-visible='true']":{opacity:.25}})}})(t),n.current=s,a.current=t),s}const Ke=r=>{const a=e.hooks.useTranslation(Oe),o=e.hooks.useLatest(a),{message:i,show:l,clear:u}=(t=>{const[n,r]=e.React.useState(null),a=e.React.useRef(null),s=e.hooks.useEventCallback((()=>{null!=a.current&&(window.clearTimeout(a.current),a.current=null),r(null)})),o=e.hooks.useEventCallback((e=>{const n=t.current;if("function"!=typeof n)return;const s=n(e);s&&(null!=a.current&&(window.clearTimeout(a.current),a.current=null),r(s),a.current=window.setTimeout((()=>{a.current=null,r(null)}),1e3))}));return e.hooks.useUnmount((()=>{s()})),{message:n,show:o,clear:s}})(o),[p,f]=e.React.useState((()=>ae(r.config))),m=e.hooks.useLatest(p),[g,y]=e.React.useState(null),[w,h]=e.React.useState((()=>p.swerefWkid??3006)),[b,x]=e.React.useState(We),[k,v]=e.React.useState(!1),[M,S]=e.React.useState(!1),[E,j]=e.React.useState(!1),R=e.React.useId(),I=Ne(["esri/geometry/Point","esri/geometry/SpatialReference","esri/geometry/projection","esri/geometry/support/webMercatorUtils","esri/Graphic"],((e,t,n,r,a)=>({Point:e,SpatialReference:t,projection:n,webMercatorUtils:r,Graphic:a}))),N=Ne(["esri/layers/GraphicsLayer"],(e=>({GraphicsLayer:e})));e.hooks.useUpdateEffect((()=>{f(ae(r.config))}),[r.config]);const P=_e(),L=a(_);if(!L)throw new Error("Missing translation for 'noValue'");const C=e.hooks.useLatest(g?.view),O=e.hooks.useLatest(w),D=e.hooks.useLatest(k),z=e.hooks.useLatest(L),A=e.React.useRef(null),[T,F]=e.React.useState(!1),W=Pe({view:g?.view,modules:I,extraModules:N,pinFillColor:p.pinFillColor,pinIconId:p.pinIconId}),K=W.getPinnedPoint,[U,B]=e.React.useState((()=>q(p.enabledWkids))),$=e.hooks.useLatest(U);e.hooks.useUpdateEffect((()=>{B(q(p.enabledWkids))}),[p.enabledWkids]);const V=e.React.useRef(ve(I));e.hooks.useUpdateEffect((()=>{V.current=ve(I)}),[I]);const J=V.current,Z=Le({modules:I,configRef:m,selectedWkidRef:O,viewRef:C,getSpatialReference:J,translate:a}),H=Ce({projection:Z,configRef:m,allowedOptionsRef:$,translate:a}),Y=he({hasMap:!!g,hasFormats:U.length>0}),Q=p.enablePin&&k&&!M,X=Q?a("clickMapToPlacePin"):null,ee=Y.messageKey?a(Y.messageKey):X??b,ne=i??ee,re="ready"===Y.status&&!Q&&be(b,L),se="ready"===Y.status&&U.length>=2,oe=U.find((e=>e.wkid===w)),ie=!!p.showProjectionParameters&&!!oe?.metadata,le=oe?.metadata??null,ce="sv-SE",ue=le?`${le.centralMeridian.toFixed(2)}\xb0 E`:"",de=le?le.scaleFactor.toFixed(4):"",pe=le?`${le.falseEasting.toLocaleString(ce)} m`:"",fe=le?`${le.falseNorthing.toLocaleString(ce)} m`:"";e.hooks.useUpdateEffect((()=>{re||F(!1)}),[re]);const me=e.hooks.useEventCallback((()=>{W.rememberPinnedPoint(null),W.clearGraphic(),S(!1)})),ge=e.hooks.useEventCallback((e=>{e&&(W.rememberPinnedPoint(e),W.applyGraphic(e),S(!0))}));e.hooks.useUpdateEffect((()=>{p.enablePin||(k&&v(!1),me())}),[p.enablePin,k,me]),e.hooks.useUpdateEffect((()=>{if(!k)return void me();if(!I?.Graphic)return;const e=K();e&&ge(e)}),[k,I,K,ge,me]),e.hooks.useUpdateEffect((()=>{g||(k&&v(!1),me(),Z.rememberPoint(null),x(L),u())}),[g,k,L]),e.React.useEffect((()=>{!U.some((e=>e.wkid===w))&&U.length>0&&h(U[0].wkid)}),[U,w]);const ye=e.React.useRef(0);e.hooks.useUpdateEffect((()=>{j(!1)}),[w]),e.hooks.useUpdateEffect((()=>{p.showProjectionParameters||j(!1)}),[p.showProjectionParameters]);const xe=e.hooks.useEventCallback((async(e,t)=>{const n=t?.syncPin??!1,r=++ye.current;Z.rememberPoint(e);const a=z.current;if(!a)throw new Error("Missing translation for 'noValue'");let s=a;try{s=await Z.formatPoint(e)}catch{s=a}return r!==ye.current?null:(x(s),n&&(e&&D.current?ge(e):me()),s)}));e.hooks.useUnmount((()=>{me(),u()})),e.hooks.useUpdateEffect((()=>{const e=p.swerefWkid;"number"==typeof e&&e!==O.current&&h(e)}),[p.swerefWkid]),e.hooks.useUpdateEffect((()=>{const e=Z.getLastPoint();e?xe(e).catch((()=>{})):x(L)}),[w,p.precision,L,xe]);const ke=e.hooks.useEventCallback((e=>{y(e)})),Me=e.hooks.useEventCallback((e=>{const t=$.current,n="number"==typeof e?e:Number(e);Number.isFinite(n)&&t?.some((e=>e.wkid===n))&&n!==O.current&&h(n)})),Se=e.hooks.useEventCallback((async e=>{const t=C.current;if(!t)return;const n=t.toMap({x:e?.x,y:e?.y});if(n)try{const e=await xe(n,{syncPin:!0}),t=z.current;e&&t&&p.copyOnClick&&be(e,t)&&je(e)}catch{}}));(t=>{const{view:n,isPinnedRef:r,updateFromPoint:a,handleMapClick:s}=t,o=e.hooks.useLatest(n),i=e.hooks.useLatest(a),l=e.hooks.useLatest(s),c=e.React.useRef(null),u=e.React.useRef(null),d=e.hooks.useEventCallback((()=>{null!=c.current&&(cancelAnimationFrame(c.current),c.current=null)}));e.hooks.useUnmount((()=>{d()})),e.hooks.useUpdateEffect((()=>{const e=o.current;if(!e)return void d();const t=[],n=e.on("pointer-move",(e=>{r.current||(u.current=e,null==c.current&&(c.current=window.requestAnimationFrame((async()=>{c.current=null;const e=u.current;if(!e||!o.current)return;const t=o.current.toMap({x:e.x,y:e.y});await i.current(t)}))))}));t.push((()=>{n.remove()}));const a=e.on("click",(e=>{l.current(e)}));return t.push((()=>{a.remove()})),()=>{t.forEach((e=>{e()})),d()}}),[n])})({view:g?.view,isPinnedRef:D,updateFromPoint:xe,handleMapClick:Se});const Ee=e.hooks.useEventCallback((e=>{e?.preventDefault(),e?.stopPropagation&&e.stopPropagation();const t=e?.nativeEvent;t?.stopImmediatePropagation&&t.stopImmediatePropagation(),v((e=>!e))})),je=e.hooks.useEventCallback((e=>{const t=(e=>{if(!e)return!1;try{return we()(e,{format:"text/plain"})}catch{return!1}})(e);l(t?"copied":"clipboardUnavailable")})),Re=e.hooks.useEventCallback((()=>{re&&F(!0)})),Ie=e.hooks.useEventCallback((()=>{F(!1)})),De=e.hooks.useEventCallback((()=>{re&&je(b)})),Ae=e.hooks.useEventCallback((e=>{re&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),je(b)))})),Fe=k?Te():Ge();return(0,e.jsx)("div",{css:P.container},(0,e.jsx)(t.JimuMapViewComponent,{useMapWidgetId:r.useMapWidgetIds?.[0],onActiveViewChange:ke}),(0,e.jsx)("div",{css:P.controls},p.enablePin&&(0,e.jsx)(n.Button,{type:"tertiary",icon:!0,css:P.pinButton,"aria-pressed":k,"aria-label":a(k?"pinToggleOff":"pinToggleOn"),title:a(k?"pinToggleOff":"pinToggleOn"),onClick:Ee,disabled:!g},(0,e.jsx)(n.SVG,{src:Fe,css:P.pinIcon,"aria-hidden":"true","data-active":k?"true":"false",size:22,role:"presentation"})),(0,e.jsx)("div",{css:P.output,ref:A,"aria-live":"polite",onClick:De,onKeyDown:Ae,onMouseEnter:Re,onMouseLeave:Ie,role:re?"button":void 0,tabIndex:re?0:void 0,"aria-label":re?a("copy"):void 0,title:ne,"data-can-copy":re?"true":"false"},ne),(0,e.jsx)("div",{css:P.actions,"data-role":"actions","data-can-copy":re?"true":"false"},(0,e.jsx)("div",{css:P.copyIcon,"data-role":"copy-icon","data-visible":re&&T?"true":"false","aria-hidden":"true"},(0,e.jsx)(n.SVG,{src:c(),size:20,role:"presentation"})),p.showExportButton&&(0,e.jsx)(n.Dropdown,{activeIcon:!0,menuRole:"listbox","aria-label":a("export")},(0,e.jsx)(n.DropdownButton,{arrow:!1,icon:!0,type:"tertiary",css:P.pinButton,title:a("export"),role:"combobox",disabled:"ready"!==Y.status||!H.isReady()},(0,e.jsx)(n.SVG,{src:ze(),size:14})),(0,e.jsx)(n.DropdownMenu,{alignment:"start"},G.map((t=>(0,e.jsx)(n.DropdownItem,{key:t.key,onClick:()=>{H.handleExportSelect(t.key)},role:"menuitem",title:a(t.messageKey)},a(t.messageKey)))))),se&&(0,e.jsx)(n.Dropdown,{activeIcon:!0,menuRole:"listbox","aria-label":a("format")},(0,e.jsx)(n.DropdownButton,{arrow:!1,icon:!0,type:"tertiary",css:P.pinButton,title:a("format"),role:"combobox",disabled:0===U.length},(0,e.jsx)(n.SVG,{src:s(),size:16})),(0,e.jsx)(n.DropdownMenu,{alignment:"start"},U.map((t=>{const r=te(t,a),s=t.wkid===w;return(0,e.jsx)(n.DropdownItem,{key:t.wkid,active:s,onClick:()=>Me(t.wkid),title:r,role:"menuitemradio","aria-checked":s},r)})))))),ie&&(0,e.jsx)("div",{css:P.projectionParams},(0,e.jsx)(n.Button,{type:"tertiary",size:"sm",css:P.projectionToggle,onClick:()=>{j((e=>!e))},"aria-expanded":E,"aria-controls":R},(0,e.jsx)(n.SVG,{src:d(),size:14,"aria-hidden":"true",role:"presentation"}),(0,e.jsx)("span",{css:P.paramLabel},a("projectionParameters"))),E&&(0,e.jsx)("div",{css:P.paramDetails,id:R},(0,e.jsx)("div",{css:P.paramRow},(0,e.jsx)("span",{css:P.paramKey},a("centralMeridian")),(0,e.jsx)("span",{css:P.paramValue},ue)),(0,e.jsx)("div",{css:P.paramRow},(0,e.jsx)("span",{css:P.paramKey},a("scaleFactor")),(0,e.jsx)("span",{css:P.paramValue},de)),(0,e.jsx)("div",{css:P.paramRow},(0,e.jsx)("span",{css:P.paramKey},a("falseEasting")),(0,e.jsx)("span",{css:P.paramValue},pe)),(0,e.jsx)("div",{css:P.paramRow},(0,e.jsx)("span",{css:P.paramKey},a("falseNorthing")),(0,e.jsx)("span",{css:P.paramValue},fe)))))},Ue={projectPointToOption:je,hasCopyableText:be};function Be(e){o.p=e}})(),i})())}}}));